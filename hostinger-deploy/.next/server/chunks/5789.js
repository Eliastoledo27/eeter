exports.id=5789,exports.ids=[5789],exports.modules={19512:(e,t,r)=>{let n={"0bf380bc91f93549647f616bf6e65a935dd3e0c1":()=>Promise.resolve().then(r.bind(r,48693)).then(e=>e.createLesson),"14292334159141a2d2a5110225b42bf0b021ef58":()=>Promise.resolve().then(r.bind(r,48693)).then(e=>e.createCourse),"2398636c068ae8ecea9ccb6e6d18c2bf7d74474b":()=>Promise.resolve().then(r.bind(r,48693)).then(e=>e.completeLesson),"39e0b21b766fdbbcf9d3b0ecf081e0d8ecaf1948":()=>Promise.resolve().then(r.bind(r,48693)).then(e=>e.getAcademyJourney),"7b18d6afe53d36cbc468e15f46eb579998b015d3":()=>Promise.resolve().then(r.bind(r,48693)).then(e=>e.createModule),b61b29cce2a7184013bbdd8fe3206fadda4d89ea:()=>Promise.resolve().then(r.bind(r,48693)).then(e=>e.getLesson)};async function d(e,...t){return(await n[e]()).apply(null,t)}e.exports={"0bf380bc91f93549647f616bf6e65a935dd3e0c1":d.bind(null,"0bf380bc91f93549647f616bf6e65a935dd3e0c1"),"14292334159141a2d2a5110225b42bf0b021ef58":d.bind(null,"14292334159141a2d2a5110225b42bf0b021ef58"),"2398636c068ae8ecea9ccb6e6d18c2bf7d74474b":d.bind(null,"2398636c068ae8ecea9ccb6e6d18c2bf7d74474b"),"39e0b21b766fdbbcf9d3b0ecf081e0d8ecaf1948":d.bind(null,"39e0b21b766fdbbcf9d3b0ecf081e0d8ecaf1948"),"7b18d6afe53d36cbc468e15f46eb579998b015d3":d.bind(null,"7b18d6afe53d36cbc468e15f46eb579998b015d3"),b61b29cce2a7184013bbdd8fe3206fadda4d89ea:d.bind(null,"b61b29cce2a7184013bbdd8fe3206fadda4d89ea")}},91342:(e,t,r)=>{let n={"79f3f00d4b0c2946f94fdcd69d6b36cb5d5604f2":()=>Promise.resolve().then(r.bind(r,41418)).then(e=>e.logoutAction),b9fdf25a15fb84304180adce81eea9b6b985602a:()=>Promise.resolve().then(r.bind(r,41418)).then(e=>e.bypassLogin)};async function d(e,...t){return(await n[e]()).apply(null,t)}e.exports={"79f3f00d4b0c2946f94fdcd69d6b36cb5d5604f2":d.bind(null,"79f3f00d4b0c2946f94fdcd69d6b36cb5d5604f2"),b9fdf25a15fb84304180adce81eea9b6b985602a:d.bind(null,"b9fdf25a15fb84304180adce81eea9b6b985602a")}},30361:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let n=(0,r(25578).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},58585:(e,t,r)=>{"use strict";var n=r(61085);r.o(n,"notFound")&&r.d(t,{notFound:function(){return n.notFound}}),r.o(n,"redirect")&&r.d(t,{redirect:function(){return n.redirect}})},61085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return o},RedirectType:function(){return n.RedirectType},notFound:function(){return d.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect}});let n=r(83953),d=r(16399);class a extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class o extends URLSearchParams{append(){throw new a}delete(){throw new a}set(){throw new a}sort(){throw new a}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return d},notFound:function(){return n}});let r="NEXT_NOT_FOUND";function n(){let e=Error(r);throw e.digest=r,e}function d(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return n},getRedirectError:function(){return i},getRedirectStatusCodeFromError:function(){return p},getRedirectTypeFromError:function(){return b},getURLFromRedirectError:function(){return l},isRedirectError:function(){return f},permanentRedirect:function(){return u},redirect:function(){return s}});let d=r(54580),a=r(72934),o=r(8586),c="NEXT_REDIRECT";function i(e,t,r){void 0===r&&(r=o.RedirectStatusCode.TemporaryRedirect);let n=Error(c);n.digest=c+";"+t+";"+e+";"+r+";";let a=d.requestAsyncStorage.getStore();return a&&(n.mutableCookies=a.mutableCookies),n}function s(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw i(e,t,(null==r?void 0:r.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.TemporaryRedirect)}function u(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw i(e,t,(null==r?void 0:r.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.PermanentRedirect)}function f(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,n,d]=e.digest.split(";",4),a=Number(d);return t===c&&("replace"===r||"push"===r)&&"string"==typeof n&&!isNaN(a)&&a in o.RedirectStatusCode}function l(e){return f(e)?e.digest.split(";",3)[2]:null}function b(e){if(!f(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function p(e){if(!f(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(n||(n={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},48693:(e,t,r)=>{"use strict";r.r(t),r.d(t,{completeLesson:()=>c,createCourse:()=>s,createLesson:()=>f,createModule:()=>u,getAcademyJourney:()=>o,getLesson:()=>i});var n=r(24330);r(60166);var d=r(56751),a=r(57708);async function o(){try{let e=(0,d.e)(),{data:{user:t},error:r}=await e.auth.getUser();if(r||!t)return[];let{data:n,error:a}=await e.from("academy_courses").select(`
        *,
        modules:academy_modules(
            *,
            lessons:academy_content(*)
        )
        `).eq("is_published",!0).order("created_at",{ascending:!0});if(a||!n)return[];let{data:o}=await e.from("academy_progress").select("content_id").eq("user_id",t.id),c=new Set(o?.map(e=>e.content_id)||[]);return n.map(e=>{let t=0,r=0,n=(e.modules||[]).sort((e,t)=>(e.order||0)-(t.order||0)).map(e=>{let n=(e.lessons||[]).sort((e,t)=>(e.order||0)-(t.order||0)).map(e=>{t++;let n=c.has(e.id);return n&&r++,{...e,completed:n}});return{...e,lessons:n}});return{...e,modules:n,progress:t>0?Math.round(r/t*100):0}})}catch(e){return console.error("Academy Error:",e),[]}}async function c(e){try{let t=(0,d.e)(),{data:{user:r}}=await t.auth.getUser();if(!r)throw Error("Not authorized");let{data:n}=await t.from("academy_progress").select("content_id").eq("user_id",r.id).eq("content_id",e).single();if(n)return{success:!0,message:"Already completed"};let{data:o}=await t.from("academy_content").select("xp_reward").eq("id",e).single();if(!o)throw Error("Lesson not found");let{error:c}=await t.from("academy_progress").insert({user_id:r.id,content_id:e});if(c)throw c;let{error:i}=await t.rpc("increment_points",{user_id:r.id,points_to_add:o.xp_reward});if(i){let{data:e}=await t.from("profiles").select("points").eq("id",r.id).single();await t.from("profiles").update({points:(e?.points||0)+(o.xp_reward||0)}).eq("id",r.id)}return(0,a.revalidatePath)("/academy"),{success:!0,xpGained:o.xp_reward}}catch(e){return console.error("Academy complete error:",e),{success:!1,error:"Failed to complete lesson"}}}async function i(e){try{let t=(0,d.e)(),{data:{user:r}}=await t.auth.getUser();if(!r)return null;let{data:n,error:a}=await t.from("academy_content").select("*").eq("id",e).single();if(a||!n)return null;let{data:o}=await t.from("academy_progress").select("completed_at").eq("user_id",r.id).eq("content_id",e).single();return{...n,completed:!!o}}catch(e){return console.error("Academy get lesson error:",e),null}}async function s(e){let t=(0,d.e)(),{error:r}=await t.from("academy_courses").insert(e);if(r)throw r;return(0,a.revalidatePath)("/academy"),{success:!0}}async function u(e){let t=(0,d.e)(),{error:r}=await t.from("academy_modules").insert(e);if(r)throw r;return(0,a.revalidatePath)("/academy"),{success:!0}}async function f(e){let t=(0,d.e)(),{error:r}=await t.from("academy_content").insert(e);if(r)throw r;return(0,a.revalidatePath)("/academy"),{success:!0}}(0,r(40618).h)([o,c,i,s,u,f]),(0,n.j)("39e0b21b766fdbbcf9d3b0ecf081e0d8ecaf1948",o),(0,n.j)("2398636c068ae8ecea9ccb6e6d18c2bf7d74474b",c),(0,n.j)("b61b29cce2a7184013bbdd8fe3206fadda4d89ea",i),(0,n.j)("14292334159141a2d2a5110225b42bf0b021ef58",s),(0,n.j)("7b18d6afe53d36cbc468e15f46eb579998b015d3",u),(0,n.j)("0bf380bc91f93549647f616bf6e65a935dd3e0c1",f)},56751:(e,t,r)=>{"use strict";r.d(t,{e:()=>a});var n=r(67721),d=r(71615);function a(){let e=(0,d.cookies)();return(0,n.createServerClient)("https://tolzrvsykzmvndvomllt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRvbHpydnN5a3ptdm5kdm9tbGx0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwODQ5MDAsImV4cCI6MjA4NTY2MDkwMH0.pYQlxzkeUO6xsIDwe77kKCtapcVn507pgmcXPjhQH-o",{cookies:{getAll:()=>e.getAll(),setAll(t){try{t.forEach(({name:t,value:r,options:n})=>e.set(t,r,n))}catch{}}}})}}};