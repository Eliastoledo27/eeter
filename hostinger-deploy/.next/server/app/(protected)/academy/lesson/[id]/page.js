(()=>{var e={};e.id=8264,e.ids=[8264],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},69512:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(47528),r(52356),r(74782),r(22824),r(7629),r(12523);var s=r(23191),a=r(88716),o=r(37922),l=r.n(o),n=r(95231),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);r.d(t,i);let d=["",{children:["(protected)",{children:["academy",{children:["lesson",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,47528)),"C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\(protected)\\academy\\lesson\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,52356)),"C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\(protected)\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,97026))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(r.bind(r,74782)),"C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\layout.tsx"],template:[()=>Promise.resolve().then(r.bind(r,22824)),"C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\template.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,97026))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],c=["C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\(protected)\\academy\\lesson\\[id]\\page.tsx"],p="/(protected)/academy/lesson/[id]/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(protected)/academy/lesson/[id]/page",pathname:"/academy/lesson/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},39504:(e,t,r)=>{Promise.resolve().then(r.bind(r,52370))},69171:(e,t,r)=>{"use strict";r.d(t,{N:()=>o,P6:()=>l,aA:()=>a,l6:()=>n}),r(15424);var s=r(46242),a=(0,s.$)("0bf380bc91f93549647f616bf6e65a935dd3e0c1");(0,s.$)("39e0b21b766fdbbcf9d3b0ecf081e0d8ecaf1948");var o=(0,s.$)("2398636c068ae8ecea9ccb6e6d18c2bf7d74474b");(0,s.$)("b61b29cce2a7184013bbdd8fe3206fadda4d89ea");var l=(0,s.$)("14292334159141a2d2a5110225b42bf0b021ef58"),n=(0,s.$)("7b18d6afe53d36cbc468e15f46eb579998b015d3")},52370:(e,t,r)=>{"use strict";r.d(t,{LessonView:()=>u});var s=r(10326),a=r(69171),o=r(17577),l=r(35047);let n=(0,r(25578).Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var i=r(77506),d=r(30361),c=r(90434),p=r(51223),m=r(91664),x=r(56627);function u({lesson:e}){let[t,r]=(0,o.useState)(!1),[u,h]=(0,o.useState)(e.completed),b=(0,l.useRouter)(),{toast:f}=(0,x.p)(),g=async()=>{if(!u){r(!0);try{let t=await (0,a.N)(e.id);t.success&&(h(!0),f("\xa1Lecci\xf3n Completada!",{description:`Has ganado +${t.xpGained} XP`}),b.refresh())}catch{f.error("No se pudo completar la lecci\xf3n")}finally{r(!1)}}};return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto pb-20",children:[(0,s.jsxs)(c.default,{href:"/academy",className:"flex items-center text-gray-500 hover:text-gray-900 mb-6 transition-colors",children:[s.jsx(n,{className:"w-4 h-4 mr-1"}),"Volver a la Academia"]}),(0,s.jsxs)("div",{className:"glass rounded-2xl overflow-hidden shadow-xl mb-8",children:[s.jsx("div",{className:"aspect-video bg-black relative",children:"video"===e.type?s.jsx("iframe",{src:e.url.replace("watch?v=","embed/"),className:"w-full h-full absolute inset-0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-white p-12 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Material de Lectura"}),(0,s.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"bg-white text-black px-6 py-3 rounded-full font-bold hover:bg-gray-200 transition-colors",children:["Abrir ",e.type.toUpperCase()]})]})}),(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:e.title}),s.jsx("p",{className:"text-gray-500",children:e.description})]}),s.jsx(m.z,{onClick:g,disabled:t||!!u,className:(0,p.cn)("min-w-[200px] h-12 text-lg font-bold transition-all transform hover:scale-105",u?"bg-green-100 text-green-700 hover:bg-green-200 border border-green-200":"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg hover:shadow-orange-500/20"),children:t?s.jsx(i.Z,{className:"w-5 h-5 animate-spin mr-2"}):u?(0,s.jsxs)(s.Fragment,{children:[s.jsx(d.Z,{className:"w-5 h-5 mr-2"}),"Completado"]}):"Marcar como Visto"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-400 border-t border-gray-100 pt-6",children:[(0,s.jsxs)("span",{children:["Duraci\xf3n aprox: ",e.duration_minutes||10," min"]}),s.jsx("span",{children:"â€¢"}),(0,s.jsxs)("span",{className:"text-orange-500 font-bold",children:["+",e.xp_reward," XP"]})]})]})]})]})}},56627:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var s=r(85999);let a=()=>({toast:s.A})},47528:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(19510),a=r(48693);let o=(0,r(68570).createProxy)(String.raw`C:\Users\Tole\Desktop\Pegada Solo\eter-store\src\components\academy\LessonView.tsx#LessonView`);var l=r(58585);async function n({params:e}){let t=await (0,a.getLesson)(e.id);return t||(0,l.redirect)("/academy"),s.jsx(o,{lesson:t})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,3314,5703,7721,43,5562,6846,3419,5789],()=>r(69512));module.exports=s})();