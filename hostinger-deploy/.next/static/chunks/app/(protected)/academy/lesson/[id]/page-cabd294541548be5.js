(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8264],{75498:function(e,t,r){Promise.resolve().then(r.bind(r,24093))},41671:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(68755).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},51817:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(68755).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},27648:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var n=r(72972),a=r.n(n)},99376:function(e,t,r){"use strict";var n=r(35475);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},12119:function(e,t,r){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return a}});let n=r(83079);function a(e){let{createServerReference:t}=r(6671);return t(e,n.callServer)}},12760:function(e,t,r){"use strict";r.d(t,{N:function(){return l},P6:function(){return i},aA:function(){return a},l6:function(){return o}}),r(83079);var n=r(12119),a=(0,n.$)("0bf380bc91f93549647f616bf6e65a935dd3e0c1");(0,n.$)("39e0b21b766fdbbcf9d3b0ecf081e0d8ecaf1948");var l=(0,n.$)("2398636c068ae8ecea9ccb6e6d18c2bf7d74474b");(0,n.$)("b61b29cce2a7184013bbdd8fe3206fadda4d89ea");var i=(0,n.$)("14292334159141a2d2a5110225b42bf0b021ef58"),o=(0,n.$)("7b18d6afe53d36cbc468e15f46eb579998b015d3")},24093:function(e,t,r){"use strict";r.d(t,{LessonView:function(){return m}});var n=r(57437),a=r(12760),l=r(2265),i=r(99376);let o=(0,r(68755).Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var s=r(51817),c=r(41671),u=r(27648),d=r(93448),f=r(12381),p=r(18752);function m(e){let{lesson:t}=e,[r,m]=(0,l.useState)(!1),[b,h]=(0,l.useState)(t.completed),v=(0,i.useRouter)(),{toast:x}=(0,p.p)(),g=async()=>{if(!b){m(!0);try{let e=await (0,a.N)(t.id);e.success&&(h(!0),x("\xa1Lecci\xf3n Completada!",{description:"Has ganado +".concat(e.xpGained," XP")}),v.refresh())}catch(e){x.error("No se pudo completar la lecci\xf3n")}finally{m(!1)}}};return(0,n.jsxs)("div",{className:"max-w-4xl mx-auto pb-20",children:[(0,n.jsxs)(u.default,{href:"/academy",className:"flex items-center text-gray-500 hover:text-gray-900 mb-6 transition-colors",children:[(0,n.jsx)(o,{className:"w-4 h-4 mr-1"}),"Volver a la Academia"]}),(0,n.jsxs)("div",{className:"glass rounded-2xl overflow-hidden shadow-xl mb-8",children:[(0,n.jsx)("div",{className:"aspect-video bg-black relative",children:"video"===t.type?(0,n.jsx)("iframe",{src:t.url.replace("watch?v=","embed/"),className:"w-full h-full absolute inset-0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-white p-12 text-center",children:[(0,n.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Material de Lectura"}),(0,n.jsxs)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"bg-white text-black px-6 py-3 rounded-full font-bold hover:bg-gray-200 transition-colors",children:["Abrir ",t.type.toUpperCase()]})]})}),(0,n.jsxs)("div",{className:"p-8",children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-2",children:t.title}),(0,n.jsx)("p",{className:"text-gray-500",children:t.description})]}),(0,n.jsx)(f.z,{onClick:g,disabled:r||!!b,className:(0,d.cn)("min-w-[200px] h-12 text-lg font-bold transition-all transform hover:scale-105",b?"bg-green-100 text-green-700 hover:bg-green-200 border border-green-200":"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg hover:shadow-orange-500/20"),children:r?(0,n.jsx)(s.Z,{className:"w-5 h-5 animate-spin mr-2"}):b?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{className:"w-5 h-5 mr-2"}),"Completado"]}):"Marcar como Visto"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-400 border-t border-gray-100 pt-6",children:[(0,n.jsxs)("span",{children:["Duraci\xf3n aprox: ",t.duration_minutes||10," min"]}),(0,n.jsx)("span",{children:"â€¢"}),(0,n.jsxs)("span",{className:"text-orange-500 font-bold",children:["+",t.xp_reward," XP"]})]})]})]})]})}},12381:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(57437),a=r(2265),l=r(37053),i=r(90535),o=r(93448);let s=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",glass:"bg-white/10 backdrop-blur-md border border-white/20 text-white hover:bg-white/20"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:c=!1,...u}=e,d=c?l.g7:"button";return(0,n.jsx)(d,{className:(0,o.cn)(s({variant:a,size:i,className:r})),ref:t,...u})});c.displayName="Button"},18752:function(e,t,r){"use strict";r.d(t,{p:function(){return a}});var n=r(14438);let a=()=>({toast:n.A})},93448:function(e,t,r){"use strict";r.d(t,{cn:function(){return l}});var n=r(61994),a=r(53335);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}},98575:function(e,t,r){"use strict";r.d(t,{F:function(){return l},e:function(){return i}});var n=r(2265);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function l(...e){return t=>{let r=!1,n=e.map(e=>{let n=a(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():a(e[t],null)}}}}function i(...e){return n.useCallback(l(...e),e)}},37053:function(e,t,r){"use strict";r.d(t,{Z8:function(){return u},g7:function(){return d}});var n,a=r(2265),l=r(98575),i=r(57437),o=Symbol.for("react.lazy"),s=(n||(n=r.t(a,2)))[" use ".trim().toString()];function c(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===o&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function u(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...n}=e;if(c(r)&&"function"==typeof s&&(r=s(r._payload)),a.isValidElement(r)){var i;let e,o;let s=(i=r,(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),c=function(e,t){let r={...t};for(let n in t){let a=e[n],l=t[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...e)=>{let t=l(...e);return a(...e),t}:a&&(r[n]=a):"style"===n?r[n]={...a,...l}:"className"===n&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==a.Fragment&&(c.ref=t?(0,l.F)(t,s):s),a.cloneElement(r,c)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:n,...l}=e;c(n)&&"function"==typeof s&&(n=s(n._payload));let o=a.Children.toArray(n),u=o.find(p);if(u){let e=u.props.children,n=o.map(t=>t!==u?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...l,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,i.jsx)(t,{...l,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}var d=u("Slot"),f=Symbol("radix.slottable");function p(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===f}},90535:function(e,t,r){"use strict";r.d(t,{j:function(){return i}});var n=r(61994);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=n.W,i=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return l(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],n=null==o?void 0:o[e];if(null===t)return null;let l=a(t)||a(n);return i[e][l]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return l(e,s,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...c}[t]):({...o,...c})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[8697,2972,4438,2971,2117,1744],function(){return e(e.s=75498)}),_N_E=e.O()}]);