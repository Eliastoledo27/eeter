(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[458],{61550:function(e,t,r){Promise.resolve().then(r.bind(r,92984))},40257:function(e,t,r){"use strict";var n,i;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(i=r.g.process)?void 0:i.env)?r.g.process:r(44227)},12119:function(e,t,r){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return i}});let n=r(83079);function i(e){let{createServerReference:t}=r(6671);return t(e,n.callServer)}},44227:function(e){!function(){var t={229:function(e){var t,r,n,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:l}catch(e){r=l}}();var u=[],s=!1,c=-1;function f(){s&&n&&(s=!1,n.length?u=n.concat(u):c=-1,u.length&&d())}function d(){if(!s){var e=a(f);s=!0;for(var t=u.length;t;){for(n=u,u=[];++c<t;)n&&n[c].run();c=-1,t=u.length}n=null,s=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===l||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||s||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}},l=!0;try{t[e](o,o.exports,n),l=!1}finally{l&&delete r[e]}return o.exports}n.ab="//";var i=n(229);e.exports=i}()},69649:function(e,t,r){"use strict";r.d(t,{C:function(){return i},h:function(){return o}}),r(83079);var n=r(12119),i=(0,n.$)("79f3f00d4b0c2946f94fdcd69d6b36cb5d5604f2"),o=(0,n.$)("b9fdf25a15fb84304180adce81eea9b6b985602a")},92984:function(e,t,r){"use strict";r.d(t,{ProfileSettingsForm:function(){return m}});var n=r(57437),i=r(54887);r(83079);var o=(0,r(12119).$)("e5434be0d60843be11f611b8054f346980698e78"),l=r(12381),a=r(40279),u=r(75060),s=r(79820),c=r(14438),f=r(2265),d=r(9945);let p={message:"",error:"",success:""};function m(e){let{profile:t}=e,[r,m]=(0,i.useFormState)(o,p),{checkSession:b}=(0,d.t)();return(0,f.useEffect)(()=>{(null==r?void 0:r.success)&&(c.A.success(r.success),b()),(null==r?void 0:r.error)&&c.A.error(r.error)},[r,b]),(0,n.jsx)("div",{className:"space-y-6 max-w-2xl",children:(0,n.jsxs)(s.Zb,{className:"bg-white/5 border-white/10 backdrop-blur-sm text-white",children:[(0,n.jsxs)(s.Ol,{children:[(0,n.jsx)(s.ll,{children:"Configuraci\xf3n de Perfil"}),(0,n.jsx)(s.SZ,{children:"Actualiza tu informaci\xf3n personal."})]}),(0,n.jsx)(s.aY,{children:(0,n.jsxs)("form",{action:m,className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u._,{htmlFor:"fullName",children:"Nombre Completo"}),(0,n.jsx)(a.I,{id:"fullName",name:"fullName",defaultValue:(null==t?void 0:t.full_name)||"",className:"bg-black/20 border-white/10",required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u._,{htmlFor:"email",children:"Email"}),(0,n.jsx)(a.I,{id:"email",defaultValue:(null==t?void 0:t.email)||"",className:"bg-black/20 border-white/10 opacity-50",disabled:!0}),(0,n.jsx)("p",{className:"text-xs text-slate-400",children:"El email no se puede cambiar directamente."})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u._,{htmlFor:"whatsappNumber",children:"N\xfamero de WhatsApp"}),(0,n.jsx)(a.I,{id:"whatsappNumber",name:"whatsappNumber",defaultValue:(null==t?void 0:t.whatsapp_number)||"",className:"bg-black/20 border-white/10",placeholder:"+54 9 ..."})]}),(0,n.jsx)("div",{className:"pt-4",children:(0,n.jsx)(l.z,{type:"submit",className:"w-full md:w-auto bg-accent-gold hover:bg-accent-gold/90 text-white",children:"Guardar Cambios"})})]})})]})})}},12381:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});var n=r(57437),i=r(2265),o=r(37053),l=r(90535),a=r(93448);let u=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",glass:"bg-white/10 backdrop-blur-md border border-white/20 text-white hover:bg-white/20"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),s=i.forwardRef((e,t)=>{let{className:r,variant:i,size:l,asChild:s=!1,...c}=e,f=s?o.g7:"button";return(0,n.jsx)(f,{className:(0,a.cn)(u({variant:i,size:l,className:r})),ref:t,...c})});s.displayName="Button"},79820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return a},SZ:function(){return s},Zb:function(){return l},aY:function(){return c},ll:function(){return u}});var n=r(57437),i=r(2265),o=r(93448);let l=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("rounded-xl border border-white/10 bg-surface text-content-body shadow-sm backdrop-blur-sm",r),...i})});l.displayName="Card";let a=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",r),...i})});a.displayName="CardHeader";let u=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("h3",{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight text-content-heading",r),...i})});u.displayName="CardTitle";let s=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-content-muted",r),...i})});s.displayName="CardDescription";let c=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",r),...i})});c.displayName="CardContent",i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",r),...i})}).displayName="CardFooter"},40279:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var n=r(57437),i=r(2265),o=r(93448);let l=i.forwardRef((e,t)=>{let{className:r,type:i,...l}=e;return(0,n.jsx)("input",{type:i,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});l.displayName="Input"},75060:function(e,t,r){"use strict";r.d(t,{_:function(){return s}});var n=r(57437),i=r(2265),o=r(370),l=r(90535),a=r(93448);let u=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),s=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(o.f,{ref:t,className:(0,a.cn)(u(),r),...i})});s.displayName=o.f.displayName},93448:function(e,t,r){"use strict";r.d(t,{cn:function(){return o}});var n=r(61994),i=r(53335);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.m6)((0,n.W)(t))}},9945:function(e,t,r){"use strict";r.d(t,{t:function(){return l}});var n=r(3011),i=r(65346),o=r(69649);let l=(0,n.U)(e=>({user:null,profile:null,isLoading:!0,checkSession:async()=>{e({isLoading:!0});let t=(0,i.e)(),r=(e,t)=>{if(t&&"feitopepe510@gmail.com"===t.toLowerCase())return"admin";if(!e)return"user";let r=e.toLowerCase();return"admin"===r?"admin":"support"===r?"support":"reseller"===r?"reseller":"user"};try{let{data:{user:n},error:i}=await t.auth.getUser();if(i||!n){e({user:null,profile:null,isLoading:!1});return}let{data:o,error:l}=await t.from("profiles").select("id, full_name, role, is_premium, points, streak_days, avatar_url").eq("id",n.id).single();if(l||!o){let t=r(void 0,n.email),i={id:n.id,full_name:n.email||"Usuario",email:n.email||"",role:t,is_premium:!1,points:0,streak_days:0};e({user:n,profile:i,isLoading:!1});return}e({user:n,profile:{...o,email:n.email||"",role:r(o.role,n.email)},isLoading:!1})}catch(t){console.error("Auth check error:",t),e({user:null,profile:null,isLoading:!1})}},signOut:async()=>{let t=(0,i.e)();await t.auth.signOut();try{await (0,o.C)()}catch(e){}e({user:null,profile:null}),window.location.href="/login"}}))},65346:function(e,t,r){"use strict";r.d(t,{e:function(){return i}});var n=r(11259);function i(){return(0,n.createBrowserClient)("https://tolzrvsykzmvndvomllt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRvbHpydnN5a3ptdm5kdm9tbGx0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwODQ5MDAsImV4cCI6MjA4NTY2MDkwMH0.pYQlxzkeUO6xsIDwe77kKCtapcVn507pgmcXPjhQH-o")}},98575:function(e,t,r){"use strict";r.d(t,{F:function(){return o},e:function(){return l}});var n=r(2265);function i(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function o(...e){return t=>{let r=!1,n=e.map(e=>{let n=i(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():i(e[t],null)}}}}function l(...e){return n.useCallback(o(...e),e)}},370:function(e,t,r){"use strict";r.d(t,{f:function(){return u}});var n=r(2265);r(54887);var i=r(37053),o=r(57437),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,i.Z8)(`Primitive.${t}`),l=n.forwardRef((e,n)=>{let{asChild:i,...l}=e,a=i?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(a,{...l,ref:n})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{}),a=n.forwardRef((e,t)=>(0,o.jsx)(l.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var u=a},37053:function(e,t,r){"use strict";r.d(t,{Z8:function(){return c},g7:function(){return f}});var n,i=r(2265),o=r(98575),l=r(57437),a=Symbol.for("react.lazy"),u=(n||(n=r.t(i,2)))[" use ".trim().toString()];function s(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===a&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function c(e){let t=function(e){let t=i.forwardRef((e,t)=>{let{children:r,...n}=e;if(s(r)&&"function"==typeof u&&(r=u(r._payload)),i.isValidElement(r)){var l;let e,a;let u=(l=r,(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?l.ref:(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?l.props.ref:l.props.ref||l.ref),s=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{let t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==i.Fragment&&(s.ref=t?(0,o.F)(t,u):u),i.cloneElement(r,s)}return i.Children.count(r)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=i.forwardRef((e,r)=>{let{children:n,...o}=e;s(n)&&"function"==typeof u&&(n=u(n._payload));let a=i.Children.toArray(n),c=a.find(p);if(c){let e=c.props.children,n=a.map(t=>t!==c?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,l.jsx)(t,{...o,ref:r,children:i.isValidElement(e)?i.cloneElement(e,void 0,n):null})}return(0,l.jsx)(t,{...o,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}var f=c("Slot"),d=Symbol("radix.slottable");function p(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}},90535:function(e,t,r){"use strict";r.d(t,{j:function(){return l}});var n=r(61994);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,o=n.W,l=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return o(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:a}=t,u=Object.keys(l).map(e=>{let t=null==r?void 0:r[e],n=null==a?void 0:a[e];if(null===t)return null;let o=i(t)||i(n);return l[e][o]}),s=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return o(e,u,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...i}=t;return Object.entries(i).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...s}[t]):({...a,...s})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},5853:function(e,t,r){"use strict";r.d(t,{_T:function(){return i},ev:function(){return l},mG:function(){return o},pi:function(){return n}});var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function o(e,t,r,n){return new(r||(r=Promise))(function(i,o){function l(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(l,a)}u((n=n.apply(e,t||[])).next())})}function l(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError},3011:function(e,t,r){"use strict";r.d(t,{U:function(){return u}});var n=r(2265);let i=e=>{let t;let r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=n?n:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,o={setState:n,getState:i,getInitialState:()=>l,subscribe:e=>(r.add(e),()=>r.delete(e))},l=t=e(n,i,o);return o},o=e=>e?i(e):i,l=e=>e,a=e=>{let t=o(e),r=e=>(function(e,t=l){let r=n.useSyncExternalStore(e.subscribe,n.useCallback(()=>t(e.getState()),[e,t]),n.useCallback(()=>t(e.getInitialState()),[e,t]));return n.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},u=e=>e?a(e):a}},function(e){e.O(0,[6137,4438,1259,2971,2117,1744],function(){return e(e.s=61550)}),_N_E=e.O()}]);