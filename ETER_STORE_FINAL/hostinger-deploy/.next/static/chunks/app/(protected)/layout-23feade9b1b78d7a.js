(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6648],{39685:function(e,t,a){Promise.resolve().then(a.bind(a,82260))},82260:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return K}});var s=a(57437),r=a(27648),i=a(99376),n=a(48279),l=a(92451),o=a(10407),d=a(82023),c=a(47692),u=a(93448),m=a(9945),x=a(13632),f=a(14938),h=a(6818),p=a(42449),b=a(43044),g=a(71769),v=a(49474),j=a(95805),w=a(44794),N=a(53417);let y={admin:["view_dashboard","view_analytics","view_catalog","view_academy","view_ranking","manage_users","manage_products","view_crm","manage_messages","manage_purchases","manage_orders"],support:["view_dashboard","view_catalog","view_academy","manage_users","view_crm","manage_orders"],reseller:["view_dashboard","view_catalog","view_academy","view_ranking","view_crm","view_messages","view_orders"],user:["view_dashboard","view_catalog","view_academy","view_messages","view_orders"]},F=[{id:"dashboard",label:"Panel Principal",icon:f.Z,href:"/dashboard"},{id:"analytics",label:"An\xe1lisis",icon:h.Z,href:"/dashboard?view=analytics"},{id:"catalog",label:"Mi Cat\xe1logo",icon:p.Z,href:"/dashboard?view=catalog"},{id:"orders",label:"Pedidos",icon:b.Z,href:"/dashboard?view=orders"},{id:"academy",label:"Academia VIP",icon:g.Z,href:"/dashboard?view=academy"},{id:"ranking",label:"Ranking Global",icon:v.Z,href:"/dashboard?view=ranking"},{id:"users",label:"Usuarios",icon:j.Z,href:"/dashboard?view=users"},{id:"products",label:"Inventario",icon:w.Z,href:"/dashboard/catalogue"},{id:"purchases",label:"Compras",icon:p.Z,href:"/dashboard/purchases"},{id:"messages",label:"Mensajes",icon:N.Z,href:"/dashboard?view=messages"}],_=e=>{let t=y[e]||[];return F.filter(e=>{switch(e.id){case"dashboard":return t.includes("view_dashboard");case"analytics":return t.includes("view_analytics");case"orders":return t.includes("manage_orders")||t.includes("view_orders");case"catalog":return t.includes("view_catalog");case"academy":return t.includes("view_academy");case"ranking":return t.includes("view_ranking");case"users":return t.includes("manage_users");case"products":return t.includes("manage_products");case"purchases":return t.includes("manage_purchases");case"messages":return t.includes("manage_messages")||t.includes("view_messages");default:return!1}})};function E(){let e=(0,i.useSearchParams)(),{signOut:t,profile:a}=(0,m.t)(),{isSidebarCollapsed:f,toggleSidebar:h}=(0,x.H)(),p=_((null==a?void 0:a.role)||"user");return(0,s.jsxs)("aside",{className:(0,u.cn)("hidden md:flex flex-col h-screen fixed left-0 top-0 border-r border-[#E2E8F0] bg-white/80 backdrop-blur-2xl z-50 shadow-[0_20px_60px_rgba(15,23,42,0.12)] transition-all duration-300",f?"w-20":"w-72"),children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-noise opacity-[0.06] pointer-events-none"}),(0,s.jsxs)("div",{className:(0,u.cn)("relative overflow-hidden transition-all duration-300 flex items-center",f?"p-4 justify-center":"p-8 pb-6"),children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-[#3B82F6]/10 to-transparent opacity-60 pointer-events-none"}),f?(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)("h1",{className:"text-xl font-black text-[#1E40AF]",children:"E"}),(0,s.jsx)("button",{onClick:h,className:"text-[#94A3B8] hover:text-[#0F172A] transition-colors",children:(0,s.jsx)(o.Z,{size:20})})]}):(0,s.jsxs)("div",{className:"relative z-10 w-full",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("h1",{className:"text-3xl font-black tracking-tighter text-[#0F172A]",children:["ETER ",(0,s.jsx)("span",{className:"text-[#1E40AF]",children:"STORE"})]}),(0,s.jsx)("button",{onClick:h,className:"text-[#94A3B8] hover:text-[#0F172A] transition-colors",children:(0,s.jsx)(l.Z,{size:20})})]}),(null==a?void 0:a.role)&&(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)("div",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500 animate-pulse motion-reduce:animate-none shadow-[0_0_10px_rgba(16,185,129,0.3)]"}),(0,s.jsxs)("span",{className:"text-[10px] uppercase font-bold text-[#64748B] tracking-[0.2em]",children:[a.role," ACCESS"]})]})]})]}),(0,s.jsx)("nav",{className:"flex-1 px-3 space-y-3 mt-4 overflow-y-auto custom-scrollbar relative z-10",children:p.map(t=>{let a="dashboard"===t.id?!e.get("view")||"dashboard"===e.get("view"):e.get("view")===t.id;return(0,s.jsx)(r.default,{href:t.href,children:(0,s.jsx)("div",{className:"relative group perspective-1000",children:(0,s.jsxs)(n.E.div,{className:(0,u.cn)("relative flex items-center rounded-2xl transition-all duration-500 overflow-hidden",f?"justify-center p-3":"gap-4 px-4 py-4",a?"bg-[#1E40AF]/10 border border-[#1E40AF]/20 shadow-[0_10px_30px_rgba(30,64,175,0.15)]":"hover:bg-[#F1F5F9] border border-transparent hover:border-[#E2E8F0]"),whileHover:{x:f?0:5},whileTap:{scale:.98},children:[a&&(0,s.jsx)(n.E.div,{layoutId:"active-nav-indicator",className:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-[#1E40AF] to-[#3B82F6] shadow-[0_0_12px_rgba(59,130,246,0.6)]"}),(0,s.jsx)("div",{className:(0,u.cn)("relative z-10 rounded-xl transition-all duration-500 flex items-center justify-center",f?"p-2":"p-2.5",a?"bg-[#1E40AF] text-white shadow-[0_10px_20px_rgba(30,64,175,0.35)] rotate-3":"bg-white text-[#64748B] group-hover:text-[#1E40AF] group-hover:bg-[#EFF6FF] group-hover:-rotate-3 border border-[#E2E8F0]"),children:(0,s.jsx)(t.icon,{size:f?24:20,strokeWidth:a?2.5:2})}),!f&&(0,s.jsxs)("div",{className:"flex-1 relative z-10",children:[(0,s.jsx)("span",{className:(0,u.cn)("block text-sm transition-all duration-300",a?"font-bold text-[#0F172A] tracking-wide":"font-medium text-[#64748B] group-hover:text-[#0F172A]"),children:t.label}),a&&(0,s.jsx)("span",{className:"text-[10px] text-[#F59E0B] font-medium animate-pulse motion-reduce:animate-none",children:"Activo ahora"})]}),!f&&(0,s.jsx)("div",{className:(0,u.cn)("text-[#94A3B8] transition-all duration-300 transform",a?"text-[#F59E0B] translate-x-0 opacity-100":"opacity-0 -translate-x-4 group-hover:opacity-100 group-hover:translate-x-0"),children:a?(0,s.jsx)(d.Z,{size:16}):(0,s.jsx)(o.Z,{size:16})}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-[#1E40AF]/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"})]})})},t.id)})}),(0,s.jsxs)("div",{className:"p-4 mt-auto",children:[(0,s.jsxs)("button",{onClick:()=>t(),className:"group w-full relative overflow-hidden rounded-2xl p-[1px]",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/40 to-amber-500/40 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsxs)("div",{className:(0,u.cn)("relative bg-white group-hover:bg-white/90 rounded-2xl flex items-center transition-all border border-[#E2E8F0]",f?"justify-center p-3":"px-4 py-4 gap-3"),children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-white text-[#64748B] group-hover:text-red-500 group-hover:bg-red-500/10 transition-colors border border-[#E2E8F0]",children:(0,s.jsx)(c.Z,{size:18})}),!f&&(0,s.jsxs)("div",{className:"flex flex-col items-start",children:[(0,s.jsx)("span",{className:"text-sm font-bold text-[#0F172A] group-hover:text-[#0F172A] transition-colors",children:"Cerrar Sesi\xf3n"}),(0,s.jsx)("span",{className:"text-[10px] text-[#94A3B8] group-hover:text-red-500/80",children:"Hasta pronto"})]})]})]}),!f&&(0,s.jsx)("p",{className:"text-center text-[10px] text-[#94A3B8] mt-4 mb-2",children:"\xa9 2024 Eter Store Inc."})]})]})}var A=a(57586),k=a(32489),z=a(2265);function C(){var e;let t=(0,i.useSearchParams)(),{profile:a,signOut:l}=(0,m.t)(),{isMobileMenuOpen:o,setMobileMenuOpen:f}=(0,x.H)(),h=(null==a?void 0:a.role)||"user",p=_(h);return(0,z.useEffect)(()=>{f(!1)},[t,f]),(0,s.jsx)(A.M,{children:o&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>f(!1),className:"md:hidden fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-40"}),(0,s.jsxs)(n.E.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"md:hidden fixed left-0 top-0 h-full w-72 bg-white border-r border-[#E2E8F0] z-50 flex flex-col shadow-[0_20px_60px_rgba(15,23,42,0.18)]",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-noise opacity-[0.06] pointer-events-none"}),(0,s.jsxs)("div",{className:"p-6 pb-4 flex justify-between items-center relative z-10",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("h1",{className:"text-2xl font-black tracking-tighter text-[#0F172A]",children:["ETER ",(0,s.jsx)("span",{className:"text-[#1E40AF]",children:"STORE"})]})}),(0,s.jsx)("button",{onClick:()=>f(!1),className:"p-2 rounded-full hover:bg-[#F1F5F9] text-[#94A3B8] hover:text-[#0F172A] transition-colors",children:(0,s.jsx)(k.Z,{size:20})})]}),a&&(0,s.jsx)("div",{className:"px-6 mb-6 relative z-10",children:(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-2xl bg-white border border-[#E2E8F0] shadow-sm",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-[#3B82F6]/15 to-[#1E40AF]/10 flex items-center justify-center text-[#1E40AF] font-bold border border-[#3B82F6]/20",children:(null===(e=a.full_name)||void 0===e?void 0:e.charAt(0))||"U"}),(0,s.jsxs)("div",{className:"flex flex-col overflow-hidden",children:[(0,s.jsx)("span",{className:"text-sm font-bold text-[#0F172A] truncate",children:a.full_name}),(0,s.jsx)("span",{className:"text-[10px] text-[#1E40AF] font-medium uppercase tracking-wider",children:h})]})]})}),(0,s.jsx)("nav",{className:"flex-1 px-4 space-y-2 overflow-y-auto custom-scrollbar relative z-10",children:p.map(e=>{let a="dashboard"===e.id?!t.get("view")||"dashboard"===t.get("view"):t.get("view")===e.id;return(0,s.jsx)(r.default,{href:e.href,children:(0,s.jsxs)("div",{className:(0,u.cn)("flex items-center gap-4 px-4 py-3 rounded-xl transition-all duration-300 relative overflow-hidden group",a?"bg-[#1E40AF]/10 border border-[#1E40AF]/20":"hover:bg-[#F1F5F9] border border-transparent"),children:[a&&(0,s.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-[#1E40AF]"}),(0,s.jsx)("div",{className:(0,u.cn)("relative z-10 p-2 rounded-lg transition-colors",a?"bg-[#1E40AF] text-white":"bg-white text-[#64748B] group-hover:text-[#1E40AF] group-hover:bg-[#EFF6FF] border border-[#E2E8F0]"),children:(0,s.jsx)(e.icon,{size:18})}),(0,s.jsx)("span",{className:(0,u.cn)("relative z-10 font-medium transition-colors",a?"text-[#0F172A] font-bold":"text-[#64748B] group-hover:text-[#0F172A]"),children:e.label}),a&&(0,s.jsx)(d.Z,{size:16,className:"ml-auto text-[#F59E0B] relative z-10"})]})},e.id)})}),(0,s.jsxs)("div",{className:"p-4 mt-auto border-t border-[#E2E8F0] relative z-10 bg-white/70 backdrop-blur-xl",children:[(0,s.jsxs)("button",{onClick:()=>l(),className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-red-500/10 text-red-600 hover:bg-red-500/20 transition-all border border-red-500/20",children:[(0,s.jsx)(c.Z,{size:18}),(0,s.jsx)("span",{className:"font-medium text-sm",children:"Cerrar Sesi\xf3n"})]}),(0,s.jsx)("p",{className:"text-center text-[10px] text-[#94A3B8] mt-4",children:"\xa9 2024 Eter Store Inc."})]})]})]})})}var Z=a(58293),B=a(73247),M=a(12381),S=a(32060),I=a(27954);let R=z.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(I.fC,{ref:t,className:(0,u.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});R.displayName=I.fC.displayName;let O=z.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(I.Ee,{ref:t,className:(0,u.cn)("aspect-square h-full w-full",a),...r})});O.displayName=I.Ee.displayName;let V=z.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(I.NY,{ref:t,className:(0,u.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});V.displayName=I.NY.displayName;var U=a(92934),H=a(76865),L=a(99388),P=a(33245),D=a(94766),J=a(51817),T=a(30401);a(83079);var X=a(12119),Y=(0,X.$)("02faf8ba246693e6c0a3b500845d2d023c5b63e0"),$=(0,X.$)("f921dcc1306a52e263eed5669937fd4e6649104a"),W=(0,X.$)("a2d71eeef76473d502ea1739d17676268d88d2de"),Q=a(14438);function G(e){let{className:t}=e,a=(0,i.useRouter)(),[r,n]=(0,z.useState)([]),[l,o]=(0,z.useState)(!0),[d,c]=(0,z.useState)(!1),m=r.filter(e=>!e.read).length,x=async()=>{try{let e=await $();n(e)}catch(e){}finally{o(!1)}};(0,z.useEffect)(()=>{x();let e=setInterval(x,6e4);return()=>clearInterval(e)},[]);let f=async e=>{n(t=>t.map(t=>t.id===e?{...t,read:!0}:t)),(await W(e)).error&&(Q.A.error("Error al actualizar notificaci\xf3n"),x())},h=async()=>{n(e=>e.map(e=>({...e,read:!0}))),(await Y()).error?(Q.A.error("Error al actualizar notificaciones"),x()):Q.A.success("Todas las notificaciones marcadas como le\xeddas")},p=e=>{switch(e){case"success":return(0,s.jsx)(U.Z,{className:"h-4 w-4 text-green-500"});case"warning":return(0,s.jsx)(H.Z,{className:"h-4 w-4 text-yellow-500"});case"error":return(0,s.jsx)(L.Z,{className:"h-4 w-4 text-red-500"});default:return(0,s.jsx)(P.Z,{className:"h-4 w-4 text-blue-500"})}};return(0,s.jsxs)(S.h_,{open:d,onOpenChange:c,children:[(0,s.jsx)(S.$F,{asChild:!0,children:(0,s.jsxs)(M.z,{variant:"ghost",size:"icon",className:(0,u.cn)("relative rounded-full transition-colors",!t&&"text-slate-400 hover:text-white hover:bg-white/5",t),children:[(0,s.jsx)(D.Z,{className:"h-5 w-5"}),m>0&&(0,s.jsx)("span",{className:"absolute top-2 right-2 h-2 w-2 rounded-full bg-accent-gold ring-2 ring-[#020617]"})]})}),(0,s.jsxs)(S.AW,{align:"end",className:"w-80 p-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,s.jsx)("h4",{className:"font-semibold text-sm",children:"Notificaciones"}),m>0&&(0,s.jsx)(M.z,{variant:"ghost",size:"sm",className:"h-auto px-2 text-xs text-muted-foreground",onClick:h,children:"Marcar todo como le\xeddo"})]}),(0,s.jsx)("div",{className:"max-h-[300px] overflow-y-auto",children:l?(0,s.jsx)("div",{className:"flex justify-center p-4",children:(0,s.jsx)(J.Z,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):0===r.length?(0,s.jsx)("div",{className:"p-8 text-center text-muted-foreground text-sm",children:"No tienes notificaciones"}):(0,s.jsx)("div",{className:"flex flex-col",children:r.map(e=>(0,s.jsxs)("div",{className:(0,u.cn)("flex gap-3 p-4 border-b last:border-0 hover:bg-muted/50 transition-colors cursor-pointer relative group",!e.read&&"bg-muted/20"),onClick:()=>{e.read||f(e.id),e.link&&(c(!1),a.push(e.link))},children:[(0,s.jsx)("div",{className:"mt-1 shrink-0",children:p(e.type)}),(0,s.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("p",{className:(0,u.cn)("text-sm font-medium leading-none",!e.read&&"text-foreground"),children:e.title}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground shrink-0 ml-2",children:new Date(e.created_at).toLocaleDateString()})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-2",children:e.message})]}),!e.read&&(0,s.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,s.jsxs)(M.z,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:t=>{t.stopPropagation(),f(e.id)},children:[(0,s.jsx)(T.Z,{className:"h-3 w-3"}),(0,s.jsx)("span",{className:"sr-only",children:"Marcar como le\xeddo"})]})})]},e.id))})})]})]})}function q(){var e;let{profile:t,signOut:a}=(0,m.t)(),{toggleMobileMenu:i}=(0,x.H)();return(0,s.jsxs)("header",{className:"sticky top-0 z-40 flex h-16 items-center justify-between border-b border-[#E2E8F0] bg-white/80 px-6 backdrop-blur-xl",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"md:hidden flex items-center justify-center -mr-2",children:(0,s.jsxs)("div",{className:"relative flex items-center justify-center h-8 w-8 rounded-lg bg-white border border-[#E2E8F0] shadow-[0_8px_20px_rgba(15,23,42,0.12)] overflow-hidden group hover:border-[#3B82F6]/40 transition-all",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#3B82F6]/10 to-transparent opacity-60"}),(0,s.jsx)("span",{className:"relative text-lg font-black text-[#1E40AF] pt-0.5",children:"\xc9"})]})}),(0,s.jsx)(M.z,{variant:"ghost",size:"icon",className:"md:hidden text-[#64748B]",onClick:i,children:(0,s.jsx)(Z.Z,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{className:"relative hidden md:block w-96",children:[(0,s.jsx)(B.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[#94A3B8]"}),(0,s.jsx)("input",{type:"text",placeholder:"Buscar productos, pedidos...",className:"w-full h-9 pl-9 pr-4 rounded-full border border-[#E2E8F0] bg-white/80 text-sm text-[#0F172A] placeholder:text-[#94A3B8] focus:outline-none focus:ring-1 focus:ring-[#3B82F6]/40 focus:border-[#3B82F6]/40 transition-all"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(G,{}),(0,s.jsx)("div",{className:"h-6 w-px bg-[#E2E8F0] hidden md:block"}),(0,s.jsxs)(S.h_,{children:[(0,s.jsx)(S.$F,{asChild:!0,children:(0,s.jsx)(M.z,{variant:"ghost",className:"relative h-9 w-9 rounded-full ring-2 ring-[#E2E8F0] hover:ring-[#3B82F6]/30 p-0 overflow-hidden",children:(0,s.jsxs)(R,{className:"h-9 w-9",children:[(0,s.jsx)(O,{src:(null==t?void 0:t.avatar_url)||"",alt:(null==t?void 0:t.full_name)||""}),(0,s.jsx)(V,{className:"bg-[#1E40AF]/10 text-[#1E40AF] font-bold",children:(null==t?void 0:null===(e=t.full_name)||void 0===e?void 0:e.charAt(0))||"U"})]})})}),(0,s.jsxs)(S.AW,{className:"w-56 bg-white border-[#E2E8F0] text-[#0F172A]",align:"end",forceMount:!0,children:[(0,s.jsx)(S.Ju,{className:"font-normal",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium leading-none text-[#0F172A]",children:null==t?void 0:t.full_name}),(0,s.jsx)("p",{className:"text-xs leading-none text-[#64748B]",children:null==t?void 0:t.email})]})}),(0,s.jsx)(S.VD,{className:"bg-[#E2E8F0]"}),(0,s.jsx)(S.Xi,{asChild:!0,children:(0,s.jsx)(r.default,{href:"/dashboard/profile",className:"w-full cursor-pointer focus:bg-[#F1F5F9] focus:text-[#0F172A]",children:"Perfil"})}),(0,s.jsx)(S.Xi,{asChild:!0,children:(0,s.jsx)(r.default,{href:"/dashboard/settings",className:"w-full cursor-pointer focus:bg-[#F1F5F9] focus:text-[#0F172A]",children:"Configuraci\xf3n"})}),(0,s.jsx)(S.VD,{className:"bg-[#E2E8F0]"}),(0,s.jsx)(S.Xi,{className:"text-red-600 focus:text-red-600 focus:bg-red-500/10 cursor-pointer",onClick:()=>a(),children:"Cerrar Sesi\xf3n"})]})]})]})]})}function K(e){let{children:t}=e,{isSidebarCollapsed:a}=(0,x.H)();return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/20 text-slate-900 selection:bg-blue-500/20",children:[(0,s.jsx)(z.Suspense,{fallback:null,children:(0,s.jsx)(E,{})}),(0,s.jsxs)("div",{className:(0,u.cn)("flex flex-col min-h-screen transition-all duration-300",a?"md:pl-20":"md:pl-72"),children:[(0,s.jsx)(q,{}),(0,s.jsx)("main",{className:"flex-1 p-5 md:p-7",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto space-y-6",children:t})})]}),(0,s.jsx)(z.Suspense,{fallback:null,children:(0,s.jsx)(C,{})})]})}},69649:function(e,t,a){"use strict";a.d(t,{C:function(){return r},h:function(){return i}}),a(83079);var s=a(12119),r=(0,s.$)("79f3f00d4b0c2946f94fdcd69d6b36cb5d5604f2"),i=(0,s.$)("b9fdf25a15fb84304180adce81eea9b6b985602a")},12381:function(e,t,a){"use strict";a.d(t,{z:function(){return d}});var s=a(57437),r=a(2265),i=a(37053),n=a(90535),l=a(93448);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",glass:"bg-white/10 backdrop-blur-md border border-white/20 text-white hover:bg-white/20"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:n,asChild:d=!1,...c}=e,u=d?i.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:r,size:n,className:a})),ref:t,...c})});d.displayName="Button"},32060:function(e,t,a){"use strict";a.d(t,{$F:function(){return u},AW:function(){return m},Ju:function(){return f},VD:function(){return h},Xi:function(){return x},h_:function(){return c}});var s=a(57437),r=a(2265),i=a(12465),n=a(10407),l=a(30401),o=a(40519),d=a(93448);let c=i.fC,u=i.xz;i.ZA,i.Uv,i.Tr,i.Ee,r.forwardRef((e,t)=>{let{className:a,inset:r,children:l,...o}=e;return(0,s.jsxs)(i.fF,{ref:t,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",a),...o,children:[l,(0,s.jsx)(n.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=i.fF.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.tu,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=i.tu.displayName;let m=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...n}=e;return(0,s.jsx)(i.Uv,{children:(0,s.jsx)(i.VY,{ref:t,sideOffset:r,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});m.displayName=i.VY.displayName;let x=r.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(i.ck,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",a),...n})});x.displayName=i.ck.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,checked:n,...o}=e;return(0,s.jsxs)(i.oC,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...o,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(i.wU,{children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})}),r]})}).displayName=i.oC.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(i.Rk,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(i.wU,{children:(0,s.jsx)(o.Z,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=i.Rk.displayName;let f=r.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(i.__,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...n})});f.displayName=i.__.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});h.displayName=i.Z0.displayName},93448:function(e,t,a){"use strict";a.d(t,{cn:function(){return i}});var s=a(61994),r=a(53335);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}},9945:function(e,t,a){"use strict";a.d(t,{t:function(){return n}});var s=a(3011),r=a(65346),i=a(69649);let n=(0,s.U)(e=>({user:null,profile:null,isLoading:!0,checkSession:async()=>{e({isLoading:!0});let t=(0,r.e)(),a=(e,t)=>{if(t&&"feitopepe510@gmail.com"===t.toLowerCase())return"admin";if(!e)return"user";let a=e.toLowerCase();return"admin"===a?"admin":"support"===a?"support":"reseller"===a?"reseller":"user"};try{let{data:{user:s},error:r}=await t.auth.getUser();if(r||!s){e({user:null,profile:null,isLoading:!1});return}let{data:i,error:n}=await t.from("profiles").select("id, full_name, role, is_premium, points, streak_days, avatar_url").eq("id",s.id).single();if(n||!i){let t=a(void 0,s.email),r={id:s.id,full_name:s.email||"Usuario",email:s.email||"",role:t,is_premium:!1,points:0,streak_days:0};e({user:s,profile:r,isLoading:!1});return}e({user:s,profile:{...i,email:s.email||"",role:a(i.role,s.email)},isLoading:!1})}catch(t){console.error("Auth check error:",t),e({user:null,profile:null,isLoading:!1})}},signOut:async()=>{let t=(0,r.e)();await t.auth.signOut();try{await (0,i.C)()}catch(e){}e({user:null,profile:null}),window.location.href="/login"}}))},13632:function(e,t,a){"use strict";a.d(t,{H:function(){return s}});let s=(0,a(3011).U)(e=>({isAuthModalOpen:!1,authView:"login",isMobileMenuOpen:!1,isSidebarCollapsed:!1,openAuthModal:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"login";return e({isAuthModalOpen:!0,authView:t})},closeAuthModal:()=>e({isAuthModalOpen:!1}),toggleAuthView:()=>e(e=>({authView:"login"===e.authView?"register":"login"})),setMobileMenuOpen:t=>e({isMobileMenuOpen:t}),toggleMobileMenu:()=>e(e=>({isMobileMenuOpen:!e.isMobileMenuOpen})),toggleSidebar:()=>e(e=>({isSidebarCollapsed:!e.isSidebarCollapsed}))}))},65346:function(e,t,a){"use strict";a.d(t,{e:function(){return r}});var s=a(11259);function r(){return(0,s.createBrowserClient)("https://tolzrvsykzmvndvomllt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRvbHpydnN5a3ptdm5kdm9tbGx0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwODQ5MDAsImV4cCI6MjA4NTY2MDkwMH0.pYQlxzkeUO6xsIDwe77kKCtapcVn507pgmcXPjhQH-o")}}},function(e){e.O(0,[6137,4438,8279,2972,4077,1259,41,9762,7997,2971,2117,1744],function(){return e(e.s=39685)}),_N_E=e.O()}]);