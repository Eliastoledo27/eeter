exports.id=675,exports.ids=[675],exports.modules={19512:(e,t,r)=>{let a={"0bf380bc91f93549647f616bf6e65a935dd3e0c1":()=>Promise.resolve().then(r.bind(r,48693)).then(e=>e.createLesson),"14292334159141a2d2a5110225b42bf0b021ef58":()=>Promise.resolve().then(r.bind(r,48693)).then(e=>e.createCourse),"2398636c068ae8ecea9ccb6e6d18c2bf7d74474b":()=>Promise.resolve().then(r.bind(r,48693)).then(e=>e.completeLesson),"39e0b21b766fdbbcf9d3b0ecf081e0d8ecaf1948":()=>Promise.resolve().then(r.bind(r,48693)).then(e=>e.getAcademyJourney),"7b18d6afe53d36cbc468e15f46eb579998b015d3":()=>Promise.resolve().then(r.bind(r,48693)).then(e=>e.createModule),b61b29cce2a7184013bbdd8fe3206fadda4d89ea:()=>Promise.resolve().then(r.bind(r,48693)).then(e=>e.getLesson)};async function d(e,...t){return(await a[e]()).apply(null,t)}e.exports={"0bf380bc91f93549647f616bf6e65a935dd3e0c1":d.bind(null,"0bf380bc91f93549647f616bf6e65a935dd3e0c1"),"14292334159141a2d2a5110225b42bf0b021ef58":d.bind(null,"14292334159141a2d2a5110225b42bf0b021ef58"),"2398636c068ae8ecea9ccb6e6d18c2bf7d74474b":d.bind(null,"2398636c068ae8ecea9ccb6e6d18c2bf7d74474b"),"39e0b21b766fdbbcf9d3b0ecf081e0d8ecaf1948":d.bind(null,"39e0b21b766fdbbcf9d3b0ecf081e0d8ecaf1948"),"7b18d6afe53d36cbc468e15f46eb579998b015d3":d.bind(null,"7b18d6afe53d36cbc468e15f46eb579998b015d3"),b61b29cce2a7184013bbdd8fe3206fadda4d89ea:d.bind(null,"b61b29cce2a7184013bbdd8fe3206fadda4d89ea")}},69475:(e,t,r)=>{let a={"79f3f00d4b0c2946f94fdcd69d6b36cb5d5604f2":()=>Promise.resolve().then(r.bind(r,41418)).then(e=>e.logoutAction),b9fdf25a15fb84304180adce81eea9b6b985602a:()=>Promise.resolve().then(r.bind(r,41418)).then(e=>e.bypassLogin),"02faf8ba246693e6c0a3b500845d2d023c5b63e0":()=>Promise.resolve().then(r.bind(r,17571)).then(e=>e.markAllNotificationsAsRead),a2d71eeef76473d502ea1739d17676268d88d2de:()=>Promise.resolve().then(r.bind(r,17571)).then(e=>e.markNotificationAsRead),f921dcc1306a52e263eed5669937fd4e6649104a:()=>Promise.resolve().then(r.bind(r,17571)).then(e=>e.getNotifications)};async function d(e,...t){return(await a[e]()).apply(null,t)}e.exports={"79f3f00d4b0c2946f94fdcd69d6b36cb5d5604f2":d.bind(null,"79f3f00d4b0c2946f94fdcd69d6b36cb5d5604f2"),b9fdf25a15fb84304180adce81eea9b6b985602a:d.bind(null,"b9fdf25a15fb84304180adce81eea9b6b985602a"),"02faf8ba246693e6c0a3b500845d2d023c5b63e0":d.bind(null,"02faf8ba246693e6c0a3b500845d2d023c5b63e0"),a2d71eeef76473d502ea1739d17676268d88d2de:d.bind(null,"a2d71eeef76473d502ea1739d17676268d88d2de"),f921dcc1306a52e263eed5669937fd4e6649104a:d.bind(null,"f921dcc1306a52e263eed5669937fd4e6649104a")}},58585:(e,t,r)=>{"use strict";var a=r(61085);r.o(a,"notFound")&&r.d(t,{notFound:function(){return a.notFound}}),r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}})},61085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return o},RedirectType:function(){return a.RedirectType},notFound:function(){return d.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect}});let a=r(83953),d=r(16399);class n extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class o extends URLSearchParams{append(){throw new n}delete(){throw new n}set(){throw new n}sort(){throw new n}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return d},notFound:function(){return a}});let r="NEXT_NOT_FOUND";function a(){let e=Error(r);throw e.digest=r,e}function d(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,r)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return a},getRedirectError:function(){return i},getRedirectStatusCodeFromError:function(){return p},getRedirectTypeFromError:function(){return b},getURLFromRedirectError:function(){return l},isRedirectError:function(){return f},permanentRedirect:function(){return u},redirect:function(){return s}});let d=r(54580),n=r(72934),o=r(8586),c="NEXT_REDIRECT";function i(e,t,r){void 0===r&&(r=o.RedirectStatusCode.TemporaryRedirect);let a=Error(c);a.digest=c+";"+t+";"+e+";"+r+";";let n=d.requestAsyncStorage.getStore();return n&&(a.mutableCookies=n.mutableCookies),a}function s(e,t){void 0===t&&(t="replace");let r=n.actionAsyncStorage.getStore();throw i(e,t,(null==r?void 0:r.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.TemporaryRedirect)}function u(e,t){void 0===t&&(t="replace");let r=n.actionAsyncStorage.getStore();throw i(e,t,(null==r?void 0:r.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.PermanentRedirect)}function f(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,a,d]=e.digest.split(";",4),n=Number(d);return t===c&&("replace"===r||"push"===r)&&"string"==typeof a&&!isNaN(n)&&n in o.RedirectStatusCode}function l(e){return f(e)?e.digest.split(";",3)[2]:null}function b(e){if(!f(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function p(e){if(!f(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(a||(a={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},48693:(e,t,r)=>{"use strict";r.r(t),r.d(t,{completeLesson:()=>c,createCourse:()=>s,createLesson:()=>f,createModule:()=>u,getAcademyJourney:()=>o,getLesson:()=>i});var a=r(24330);r(60166);var d=r(56751),n=r(57708);async function o(){try{let e=(0,d.e)(),{data:{user:t},error:r}=await e.auth.getUser();if(r||!t)return[];let{data:a,error:n}=await e.from("academy_courses").select(`
        *,
        modules:academy_modules(
            *,
            lessons:academy_content(*)
        )
        `).eq("is_published",!0).order("created_at",{ascending:!0});if(n||!a)return[];let{data:o}=await e.from("academy_progress").select("content_id").eq("user_id",t.id),c=new Set(o?.map(e=>e.content_id)||[]);return a.map(e=>{let t=0,r=0,a=(e.modules||[]).sort((e,t)=>(e.order||0)-(t.order||0)).map(e=>{let a=(e.lessons||[]).sort((e,t)=>(e.order||0)-(t.order||0)).map(e=>{t++;let a=c.has(e.id);return a&&r++,{...e,completed:a}});return{...e,lessons:a}});return{...e,modules:a,progress:t>0?Math.round(r/t*100):0}})}catch(e){return console.error("Academy Error:",e),[]}}async function c(e){try{let t=(0,d.e)(),{data:{user:r}}=await t.auth.getUser();if(!r)throw Error("Not authorized");let{data:a}=await t.from("academy_progress").select("content_id").eq("user_id",r.id).eq("content_id",e).single();if(a)return{success:!0,message:"Already completed"};let{data:o}=await t.from("academy_content").select("xp_reward").eq("id",e).single();if(!o)throw Error("Lesson not found");let{error:c}=await t.from("academy_progress").insert({user_id:r.id,content_id:e});if(c)throw c;let{error:i}=await t.rpc("increment_points",{user_id:r.id,points_to_add:o.xp_reward});if(i){let{data:e}=await t.from("profiles").select("points").eq("id",r.id).single();await t.from("profiles").update({points:(e?.points||0)+(o.xp_reward||0)}).eq("id",r.id)}return(0,n.revalidatePath)("/academy"),{success:!0,xpGained:o.xp_reward}}catch(e){return console.error("Academy complete error:",e),{success:!1,error:"Failed to complete lesson"}}}async function i(e){try{let t=(0,d.e)(),{data:{user:r}}=await t.auth.getUser();if(!r)return null;let{data:a,error:n}=await t.from("academy_content").select("*").eq("id",e).single();if(n||!a)return null;let{data:o}=await t.from("academy_progress").select("completed_at").eq("user_id",r.id).eq("content_id",e).single();return{...a,completed:!!o}}catch(e){return console.error("Academy get lesson error:",e),null}}async function s(e){let t=(0,d.e)(),{error:r}=await t.from("academy_courses").insert(e);if(r)throw r;return(0,n.revalidatePath)("/academy"),{success:!0}}async function u(e){let t=(0,d.e)(),{error:r}=await t.from("academy_modules").insert(e);if(r)throw r;return(0,n.revalidatePath)("/academy"),{success:!0}}async function f(e){let t=(0,d.e)(),{error:r}=await t.from("academy_content").insert(e);if(r)throw r;return(0,n.revalidatePath)("/academy"),{success:!0}}(0,r(40618).h)([o,c,i,s,u,f]),(0,a.j)("39e0b21b766fdbbcf9d3b0ecf081e0d8ecaf1948",o),(0,a.j)("2398636c068ae8ecea9ccb6e6d18c2bf7d74474b",c),(0,a.j)("b61b29cce2a7184013bbdd8fe3206fadda4d89ea",i),(0,a.j)("14292334159141a2d2a5110225b42bf0b021ef58",s),(0,a.j)("7b18d6afe53d36cbc468e15f46eb579998b015d3",u),(0,a.j)("0bf380bc91f93549647f616bf6e65a935dd3e0c1",f)},17571:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getNotifications:()=>o,markAllNotificationsAsRead:()=>i,markNotificationAsRead:()=>c});var a=r(27745);r(26461);var d=r(57070),n=r(30207);async function o(){let e=(0,d.e)(),{data:{user:t}}=await e.auth.getUser();if(!t)return[];let{data:r,error:a}=await e.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(20);return a?[]:r}async function c(e){let t=(0,d.e)(),{data:{user:r}}=await t.auth.getUser();if(!r)return{error:"Unauthorized"};let{error:a}=await t.from("notifications").update({read:!0}).eq("id",e).eq("user_id",r.id);return a?{error:"Failed to update notification"}:((0,n.revalidatePath)("/dashboard"),{success:!0})}async function i(){let e=(0,d.e)(),{data:{user:t}}=await e.auth.getUser();if(!t)return{error:"Unauthorized"};let{error:r}=await e.from("notifications").update({read:!0}).eq("user_id",t.id).eq("read",!1);return r?{error:"Failed to update notifications"}:((0,n.revalidatePath)("/dashboard"),{success:!0})}(0,r(85723).h)([o,c,i]),(0,a.j)("f921dcc1306a52e263eed5669937fd4e6649104a",o),(0,a.j)("a2d71eeef76473d502ea1739d17676268d88d2de",c),(0,a.j)("02faf8ba246693e6c0a3b500845d2d023c5b63e0",i)},56751:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});var a=r(72728),d=r(71615);function n(){let e=(0,d.cookies)();return(0,a.createServerClient)("https://tolzrvsykzmvndvomllt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRvbHpydnN5a3ptdm5kdm9tbGx0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwODQ5MDAsImV4cCI6MjA4NTY2MDkwMH0.pYQlxzkeUO6xsIDwe77kKCtapcVn507pgmcXPjhQH-o",{cookies:{getAll:()=>e.getAll(),setAll(t){try{t.forEach(({name:t,value:r,options:a})=>e.set(t,r,a))}catch{}}}})}}};