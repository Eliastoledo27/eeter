exports.id=95,exports.ids=[95],exports.modules={22673:(e,t,a)=>{let s={"79f3f00d4b0c2946f94fdcd69d6b36cb5d5604f2":()=>Promise.resolve().then(a.bind(a,41418)).then(e=>e.logoutAction),b9fdf25a15fb84304180adce81eea9b6b985602a:()=>Promise.resolve().then(a.bind(a,41418)).then(e=>e.bypassLogin),"0963c52e3d0d38eaf6ceb3f4b61c834aa8a997dc":()=>Promise.resolve().then(a.bind(a,23302)).then(e=>e.getOrderById),"3b790d46d78ec4aa5c227581a09039c9638ab494":()=>Promise.resolve().then(a.bind(a,23302)).then(e=>e.updateOrderStatus),"578b188545d16cd2a826e5b634755f4bfde26286":()=>Promise.resolve().then(a.bind(a,23302)).then(e=>e.getOrders),"6351432df3e44edfcb8453490de17a143b0c5e26":()=>Promise.resolve().then(a.bind(a,23302)).then(e=>e.createOrderFromCart)};async function r(e,...t){return(await s[e]()).apply(null,t)}e.exports={"79f3f00d4b0c2946f94fdcd69d6b36cb5d5604f2":r.bind(null,"79f3f00d4b0c2946f94fdcd69d6b36cb5d5604f2"),b9fdf25a15fb84304180adce81eea9b6b985602a:r.bind(null,"b9fdf25a15fb84304180adce81eea9b6b985602a"),"0963c52e3d0d38eaf6ceb3f4b61c834aa8a997dc":r.bind(null,"0963c52e3d0d38eaf6ceb3f4b61c834aa8a997dc"),"3b790d46d78ec4aa5c227581a09039c9638ab494":r.bind(null,"3b790d46d78ec4aa5c227581a09039c9638ab494"),"578b188545d16cd2a826e5b634755f4bfde26286":r.bind(null,"578b188545d16cd2a826e5b634755f4bfde26286"),"6351432df3e44edfcb8453490de17a143b0c5e26":r.bind(null,"6351432df3e44edfcb8453490de17a143b0c5e26")}},94802:(e,t,a)=>{"use strict";a.d(t,{AU:()=>i,E7:()=>l,ex:()=>r}),a(15424);var s=a(46242);(0,s.$)("0963c52e3d0d38eaf6ceb3f4b61c834aa8a997dc");var r=(0,s.$)("6351432df3e44edfcb8453490de17a143b0c5e26"),i=(0,s.$)("578b188545d16cd2a826e5b634755f4bfde26286"),l=(0,s.$)("3b790d46d78ec4aa5c227581a09039c9638ab494")},53288:(e,t,a)=>{"use strict";a.d(t,{Navbar:()=>q});var s=a(10326),r=a(90434),i=a(58064),l=a(57914),o=a(84507),n=a(9086),d=a(57671),c=a(24319),x=a(94019),m=a(90748),h=a(17577),u=a(51223),p=a(34565),b=a(30361),g=a(39730),f=a(36283),y=a(22915),v=a(79635),j=a(77636),w=a(28916),N=a(11019),C=a(83855),A=a(98091),S=a(77506),E=a(24230),z=a(91664),D=a(41190),k=a(44794),P=a(85999),_=a(46226),$=a(94802),T=a(48898),F=a(77725),I=a(34719),R=a(1245);let O=e=>{let t=new T.kH({orientation:"portrait",unit:"mm",format:"a4"});t.setFillColor(28,25,23),t.rect(0,0,210,40,"F"),t.setTextColor(255,255,255),t.setFontSize(24),t.setFont("helvetica","bold"),t.text("\xc9TER STORE",20,20),t.setFontSize(10),t.setFont("helvetica","normal"),t.text("Comprobante de Pedido",20,28),t.setTextColor(255,255,255),t.setFontSize(12),t.text(`Ref: ${e.referenceCode}`,190,20,{align:"right"}),t.text((0,I.WU)(e.date,"d 'de' MMMM, yyyy",{locale:R.es}),190,28,{align:"right"});let a=55;if(t.setTextColor(202,138,4),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("DATOS DEL PEDIDO",20,a),a+=8,t.setDrawColor(200,200,200),t.line(20,a,190,a),a+=10,t.setTextColor(30,30,30),t.setFontSize(10),t.setFont("helvetica","bold"),t.text("Cliente:",20,a),t.setFont("helvetica","normal"),t.setTextColor(100,100,100),t.text(e.customerName,20,a+5),t.text(e.customerPhone,20,a+10),e.customerEmail&&t.text(e.customerEmail,20,a+15),t.setTextColor(0,0,0),t.setFontSize(10),t.setFont("helvetica","bold"),t.text("Vendedor:",110,a),t.setFont("helvetica","normal"),t.setTextColor(100,100,100),t.text(e.resellerName,110,a+5),a+=25,t.setTextColor(0,0,0),t.setFontSize(10),t.setFont("helvetica","bold"),t.text("Entrega:",20,a),t.setFont("helvetica","normal"),t.setTextColor(100,100,100),t.text(`${e.deliveryAddress}`,20,a+5),t.text(`${e.city}, ${e.province}`,20,a+10),e.postalCode&&t.text(`CP: ${e.postalCode}`,20,a+15),t.setTextColor(0,0,0),t.setFontSize(10),t.setFont("helvetica","bold"),t.text("Pago:",110,a),t.setFont("helvetica","normal"),t.setTextColor(100,100,100),t.text(e.paymentMethod.replace("_"," ").toUpperCase(),110,a+5),e.notes){a+=25,t.setTextColor(0,0,0),t.setFontSize(10),t.setFont("helvetica","bold"),t.text("Notas:",20,a),t.setFont("helvetica","normal"),t.setTextColor(100,100,100);let s=t.splitTextToSize(e.notes,170);t.text(s,20,a+5),a+=5*s.length}else a+=25;a+=10;let s=e.items.map(e=>[e.name,e.selectedSize||"-",e.quantity,`$${e.basePrice.toLocaleString("es-AR")}`,`$${(e.basePrice*e.quantity).toLocaleString("es-AR")}`]);(0,F.ZP)(t,{startY:a,head:[["Producto","Talle","Cant.","Precio Unit.","Subtotal"]],body:s,theme:"grid",headStyles:{fillColor:[28,25,23],textColor:[255,255,255],fontStyle:"bold"},styles:{fontSize:9,cellPadding:3},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:20,halign:"center"},2:{cellWidth:15,halign:"center"},3:{cellWidth:30,halign:"right"},4:{cellWidth:30,halign:"right"}},foot:[["","","","TOTAL",`$${e.total.toLocaleString("es-AR")}`]],footStyles:{fillColor:[255,255,255],textColor:[202,138,4],fontStyle:"bold",fontSize:12,halign:"right"}});let r=t.lastAutoTable.finalY+20;t.setTextColor(150,150,150),t.setFontSize(8),t.text("Gracias por elegir \xc9ter Store.",105,r,{align:"center"}),t.text("Mar del Plata, Buenos Aires",105,r+5,{align:"center"}),t.text("www.eterstore.com.ar",105,r+10,{align:"center"}),t.save(`Pedido-${e.referenceCode}.pdf`)};function Z(){let{items:e,isOpen:t,toggleCart:a,removeItem:r,updateQuantity:i,getTotal:d,clearCart:c}=(0,l.x)(),[m,u]=(0,h.useState)(!1),[T,F]=(0,h.useState)(!1),[I,R]=(0,h.useState)(null),[Z,q]=(0,h.useState)([]),[M,L]=(0,h.useState)(0),[U,B]=(0,h.useState)(""),[Y,V]=(0,h.useState)(""),[H,W]=(0,h.useState)(""),[J,G]=(0,h.useState)(""),[K,Q]=(0,h.useState)(""),[X,ee]=(0,h.useState)(""),[et,ea]=(0,h.useState)(""),[es,er]=(0,h.useState)(""),[ei,el]=(0,h.useState)(""),eo=async()=>{if(0!==e.length){if(!T){F(!0);return}if(!U.trim()){P.A.error("Por favor ingresa tu nombre completo");return}if(!H.trim()){P.A.error("Por favor ingresa tu tel\xe9fono de contacto");return}if(!J.trim()){P.A.error("Por favor ingresa el nombre del vendedor/revendedor");return}if(!K.trim()){P.A.error("Por favor ingresa tu direcci\xf3n de entrega");return}if(!es){P.A.error("Por favor selecciona un m\xe9todo de pago");return}u(!0);try{let t={items:e.map(e=>({productId:e.id,name:e.name,price:e.basePrice,quantity:e.quantity,size:e.selectedSize,image:e.images?.[0]})),customerName:U,customerEmail:Y||void 0,customerPhone:H,resellerName:J,deliveryAddress:K,postalCode:X||void 0,deliveryDate:et||void 0,paymentMethod:es||void 0,notes:ei||void 0},a=await (0,$.ex)(t);a.success?(q(e),L(d()),R({orderId:a.orderId,referenceCode:a.referenceCode}),c(),P.A.success("\xa1Pedido creado exitosamente!",{style:{background:"#1C1917",color:"#FAFAF9",border:"1px solid #CA8A04"}})):P.A.error(a.message)}catch(e){P.A.error("Error al procesar el pedido"),console.error(e)}finally{u(!1)}}},en=()=>{F(!1),R(null),B(""),V(""),W(""),G(""),Q(""),ee(""),ea(""),er(""),el("")};return s.jsx(n.M,{children:t&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60]"}),(0,s.jsxs)(o.E.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 bottom-0 w-full sm:w-[420px] bg-gradient-to-b from-[#1C1917] to-[#0C0A09] border-l border-white/10 z-[70] shadow-2xl flex flex-col",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-white/[0.02]",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center justify-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-[#CA8A04] to-[#A16207] flex items-center justify-center shadow-lg shadow-[#CA8A04]/20",children:s.jsx(p.Z,{size:20,className:"text-white"})}),I?"Pedido Confirmado":T?"Finalizar Compra":"Tu Carrito"]}),s.jsx("button",{onClick:()=>{a(),en()},className:"w-10 h-10 rounded-xl bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400 hover:text-white transition-all",children:s.jsx(x.Z,{size:20})})]}),s.jsx(n.M,{mode:"wait",children:I?(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center mb-6 shadow-xl shadow-emerald-500/30",children:s.jsx(b.Z,{size:48,className:"text-white"})}),s.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:"\xa1Pedido Confirmado!"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Tu pedido ha sido registrado exitosamente."}),(0,s.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 w-full max-w-sm mb-4",children:[s.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500 font-bold mb-2",children:"C\xf3digo de Referencia"}),s.jsx("p",{className:"text-2xl font-black text-[#CA8A04] tracking-wider mb-4",children:I.referenceCode}),(0,s.jsxs)("div",{className:"space-y-2 text-left",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Cliente:"}),s.jsx("span",{className:"text-white font-medium",children:U})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Revendedor:"}),s.jsx("span",{className:"text-white font-medium",children:J})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"M\xe9todo de Pago:"}),s.jsx("span",{className:"text-white font-medium capitalize",children:es?.replace("_"," ")})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Total:"}),(0,s.jsxs)("span",{className:"text-[#CA8A04] font-bold",children:["$",d().toLocaleString("es-AR")]})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3 w-full max-w-sm",children:[(0,s.jsxs)(z.z,{onClick:()=>{if(!I)return;let e=Z.map(e=>`â€¢ ${e.quantity}x ${e.name} (${e.selectedSize})`).join("%0A"),t=M.toLocaleString("es-AR"),a=`Hola! ðŸ‘‹ Realic\xe9 el pedido *${I.referenceCode}* en Eter Store.%0A%0A*Cliente:* ${U}%0A*Detalle:*%0A${e}%0A%0A*Total: $${t}*%0A*Entrega:* ${K}%0A%0AAguardo confirmaci\xf3n para coordinar el pago y env\xedo. Gracias!`;window.open(`https://wa.me/5492235025196?text=${a}`,"_blank")},className:"w-full bg-[#25D366] hover:bg-[#128C7E] text-white font-bold py-4 rounded-xl mb-6 flex items-center justify-center gap-2 shadow-lg shadow-[#25D366]/20 transition-all hover:scale-[1.02]",children:[s.jsx(g.Z,{size:20}),"Enviar Pedido por WhatsApp"]}),(0,s.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4 w-full max-w-sm mb-6",children:[s.jsx("p",{className:"text-sm text-blue-300 mb-2",children:s.jsx("strong",{children:"Pr\xf3ximos Pasos:"})}),(0,s.jsxs)("ul",{className:"text-xs text-blue-200 space-y-1 text-left",children:[s.jsx("li",{children:"â€¢ Nos comunicaremos contigo en las pr\xf3ximas 24hs"}),s.jsx("li",{children:"â€¢ Confirmaremos los detalles de entrega"}),s.jsx("li",{children:"â€¢ Coordinaremos el pago seleccionado"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3 w-full max-w-sm",children:[s.jsx(z.z,{onClick:()=>{a(),en()},className:"bg-[#CA8A04] hover:bg-[#A16207] text-white font-bold py-4 px-8 rounded-xl",children:"Continuar Comprando"}),(0,s.jsxs)(z.z,{onClick:()=>{I&&O({referenceCode:I.referenceCode,date:new Date,customerName:U,customerPhone:H,customerEmail:Y||void 0,resellerName:J,deliveryAddress:K,city:"Mar del Plata",province:"Buenos Aires",postalCode:X||void 0,paymentMethod:es,items:Z.map(e=>({name:e.name,selectedSize:e.selectedSize,quantity:e.quantity,basePrice:e.basePrice})),total:M,notes:ei||void 0})},variant:"outline",className:"border-white/10 text-gray-300 hover:bg-white/5 font-bold py-3 rounded-xl flex items-center justify-center gap-2",children:[s.jsx(f.Z,{size:18}),"Descargar Ticket PDF"]})]})]})]}):T?(0,s.jsxs)(o.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"flex-1 overflow-y-auto p-6 space-y-8",children:[(0,s.jsxs)("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10",children:[s.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500 font-bold mb-3",children:"Resumen del Pedido"}),(0,s.jsxs)("div",{className:"space-y-2",children:[e.map(e=>(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsxs)("span",{className:"text-gray-300",children:[e.name," x",e.quantity]}),(0,s.jsxs)("span",{className:"text-white font-bold",children:["$",(e.basePrice*e.quantity).toLocaleString("es-AR")]})]},`${e.id}-${e.selectedSize}`)),(0,s.jsxs)("div",{className:"border-t border-white/10 pt-2 mt-2 flex justify-between",children:[s.jsx("span",{className:"text-white font-bold",children:"Total"}),(0,s.jsxs)("span",{suppressHydrationWarning:!0,className:"text-[#CA8A04] font-black text-lg",children:["$",d().toLocaleString("es-AR")]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[s.jsx(y.Z,{size:16,className:"text-[#CA8A04]"}),"Datos del Vendedor"]}),s.jsx("div",{className:"bg-white/[0.03] p-4 rounded-xl space-y-4 border border-white/5",children:(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(k._,{htmlFor:"resellerName",className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"Nombre del Revendedor *"}),s.jsx(D.I,{id:"resellerName",placeholder:"Nombre de quien te vendi\xf3",value:J,onChange:e=>G(e.target.value),className:"bg-black/20 border-white/10 text-white placeholder:text-gray-600 focus-visible:ring-[#CA8A04]/50"})]})})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[s.jsx(v.Z,{size:16,className:"text-[#CA8A04]"}),"Datos del Cliente"]}),(0,s.jsxs)("div",{className:"bg-white/[0.03] p-4 rounded-xl space-y-4 border border-white/5",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(k._,{htmlFor:"customerName",className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"Nombre Completo *"}),s.jsx(D.I,{id:"customerName",placeholder:"Tu nombre y apellido",value:U,onChange:e=>B(e.target.value),className:"bg-black/20 border-white/10 text-white placeholder:text-gray-600 focus-visible:ring-[#CA8A04]/50"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(k._,{htmlFor:"customerPhone",className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"Tel\xe9fono de Contacto *"}),s.jsx(D.I,{id:"customerPhone",type:"tel",placeholder:"Ej: 223 123 4567",value:H,onChange:e=>W(e.target.value),className:"bg-black/20 border-white/10 text-white placeholder:text-gray-600 focus-visible:ring-[#CA8A04]/50"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(k._,{htmlFor:"customerEmail",className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"Email (Opcional)"}),s.jsx(D.I,{id:"customerEmail",type:"email",placeholder:"para recibir el comprobante",value:Y,onChange:e=>V(e.target.value),className:"bg-black/20 border-white/10 text-white placeholder:text-gray-600 focus-visible:ring-[#CA8A04]/50"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[s.jsx(j.Z,{size:16,className:"text-[#CA8A04]"}),"Entrega"]}),(0,s.jsxs)("div",{className:"bg-white/[0.03] p-4 rounded-xl space-y-4 border border-white/5",children:[s.jsx("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:s.jsx("p",{className:"text-xs text-blue-200 text-center font-medium",children:"\uD83D\uDCCD Entrega exclusiva en Mar del Plata, Buenos Aires"})}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(k._,{htmlFor:"deliveryAddress",className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"Direcci\xf3n de Entrega *"}),s.jsx(D.I,{id:"deliveryAddress",placeholder:"Calle y N\xfamero",value:K,onChange:e=>Q(e.target.value),className:"bg-black/20 border-white/10 text-white placeholder:text-gray-600 focus-visible:ring-[#CA8A04]/50"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(k._,{htmlFor:"postalCode",className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"C\xf3digo Postal (Opcional)"}),s.jsx(D.I,{id:"postalCode",placeholder:"7600",value:X,onChange:e=>ee(e.target.value),className:"bg-black/20 border-white/10 text-white placeholder:text-gray-600 focus-visible:ring-[#CA8A04]/50"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[s.jsx(w.Z,{size:16,className:"text-[#CA8A04]"}),"Pago y Fecha"]}),(0,s.jsxs)("div",{className:"bg-white/[0.03] p-4 rounded-xl space-y-4 border border-white/5",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(k._,{htmlFor:"deliveryDate",className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"Fecha de Entrega Deseada"}),s.jsx(D.I,{id:"deliveryDate",type:"date",value:et,onChange:e=>ea(e.target.value),min:new Date().toISOString().split("T")[0],className:"bg-black/20 border-white/10 text-white placeholder:text-gray-600 focus-visible:ring-[#CA8A04]/50 block w-full"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(k._,{htmlFor:"paymentMethod",className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"M\xe9todo de Pago *"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["efectivo","transferencia","mercado_pago","tarjeta"].map(e=>(0,s.jsxs)("button",{onClick:()=>er(e),className:`p-3 rounded-xl border text-xs font-bold transition-all ${es===e?"bg-[#CA8A04] border-[#CA8A04] text-white shadow-lg shadow-[#CA8A04]/20":"bg-black/20 border-white/10 text-gray-400 hover:border-white/30 hover:text-white"}`,children:["efectivo"===e&&"\uD83D\uDCB5 Efectivo","transferencia"===e&&"\uD83C\uDFE6 Transferencia","mercado_pago"===e&&"\uD83D\uDCF1 Mercado Pago","tarjeta"===e&&"\uD83D\uDCB3 Tarjeta"]},e))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(k._,{htmlFor:"notes",className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"Notas Adicionales"}),s.jsx("textarea",{id:"notes",placeholder:"Horarios, referencias, etc.",value:ei,onChange:e=>el(e.target.value),rows:3,className:"flex w-full rounded-md border border-white/10 bg-black/20 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#CA8A04]/50 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-white resize-none"})]})]})]})]}),s.jsx("button",{onClick:()=>F(!1),className:"text-sm text-gray-400 hover:text-white transition-colors flex items-center gap-2",children:"â† Volver al carrito"})]}):s.jsx(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 overflow-y-auto p-6 space-y-4",children:0===e.length?(0,s.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center text-gray-400 space-y-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-2xl bg-white/5 flex items-center justify-center",children:s.jsx(p.Z,{size:36,className:"opacity-30"})}),s.jsx("p",{className:"text-lg font-medium",children:"Tu carrito est\xe1 vac\xedo."}),s.jsx("p",{className:"text-sm text-gray-500",children:"\xa1Descubre nuestros productos exclusivos!"}),s.jsx(z.z,{variant:"outline",onClick:a,className:"mt-4 border-white/20 text-white hover:bg-white/10",children:"Ver Cat\xe1logo"})]}):e.map(e=>(0,s.jsxs)(o.E.div,{layout:!0,className:"flex gap-4 bg-white/5 p-4 rounded-2xl border border-white/5 hover:border-white/10 transition-all group",children:[s.jsx("div",{className:"relative w-20 h-20 bg-white/10 rounded-xl overflow-hidden flex-shrink-0",children:s.jsx(_.default,{src:e.images[0]||"/placeholder-shoe.png",alt:e.name,fill:!0,className:"object-cover group-hover:scale-105 transition-transform"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-white truncate",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Talle: ",e.selectedSize]}),(0,s.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 bg-black/30 rounded-xl p-1",children:[s.jsx("button",{onClick:()=>i(e.id,e.selectedSize,e.quantity-1),className:"p-2 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-all",children:s.jsx(N.Z,{size:14})}),s.jsx("span",{className:"text-sm font-bold w-6 text-center text-white",children:e.quantity}),s.jsx("button",{onClick:()=>i(e.id,e.selectedSize,e.quantity+1),className:"p-2 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-all",children:s.jsx(C.Z,{size:14})})]}),(0,s.jsxs)("span",{className:"font-bold text-[#CA8A04]",children:["$",(e.basePrice*e.quantity).toLocaleString("es-AR")]})]})]}),s.jsx("button",{onClick:()=>r(e.id,e.selectedSize),className:"text-gray-600 hover:text-red-400 self-start p-2 hover:bg-red-500/10 rounded-lg transition-all",children:s.jsx(A.Z,{size:18})})]},`${e.id}-${e.selectedSize}`))})}),e.length>0&&!I&&(0,s.jsxs)("div",{className:"p-6 border-t border-white/10 bg-black/40 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-500",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(b.Z,{size:12,className:"text-green-400"}),s.jsx("span",{children:"Env\xedo Seguro"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(b.Z,{size:12,className:"text-green-400"}),s.jsx("span",{children:"Pago Protegido"})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-lg",children:[s.jsx("span",{className:"text-gray-400 font-medium",children:"Total"}),(0,s.jsxs)("span",{suppressHydrationWarning:!0,className:"text-2xl font-black text-[#CA8A04]",children:["$",d().toLocaleString("es-AR")]})]}),s.jsx(z.z,{onClick:eo,disabled:m,className:"w-full bg-gradient-to-r from-[#CA8A04] to-[#A16207] hover:from-[#A16207] hover:to-[#854D0E] text-white font-bold py-6 text-base rounded-xl shadow-xl shadow-[#CA8A04]/20 transition-all",children:m?(0,s.jsxs)(s.Fragment,{children:[s.jsx(S.Z,{className:"mr-2 h-5 w-5 animate-spin"}),"Procesando..."]}):T?(0,s.jsxs)(s.Fragment,{children:["Confirmar Pedido",s.jsx(E.Z,{className:"ml-2 h-5 w-5"})]}):(0,s.jsxs)(s.Fragment,{children:["Continuar al Checkout",s.jsx(E.Z,{className:"ml-2 h-5 w-5"})]})}),T&&(0,s.jsxs)(z.z,{onClick:()=>{if(0===e.length)return;let t="*\xa1Hola! Quiero realizar un pedido en \xc9ter Store:* \n\n";t+="*\uD83D\uDCE6 DETALLES DEL PEDIDO:*\n",e.forEach(e=>{t+=`â€¢ ${e.name} (Talle: ${e.selectedSize}) x${e.quantity} - $${(e.basePrice*e.quantity).toLocaleString("es-AR")}
`}),t+=`
*ðŸ’° Total: $${d().toLocaleString("es-AR")}*

*\uD83D\uDC64 DATOS PERSONALES:*
â€¢ Nombre: ${U}
â€¢ Tel\xe9fono: ${H}
`,Y&&(t+=`â€¢ Email: ${Y}
`),t+=`â€¢ Revendedor: ${J}

*\uD83D\uDCCD DIRECCI\xd3N DE ENTREGA:*
`,K&&(t+=`â€¢ Direcci\xf3n: ${K}
`),t+=`â€¢ Ubicaci\xf3n: Mar del Plata, Buenos Aires
`,X&&(t+=`â€¢ C\xf3digo Postal: ${X}
`),et&&(t+=`â€¢ Fecha deseada: ${et}

`),es&&(t+=`*\uD83D\uDCB3 M\xc9TODO DE PAGO:*
â€¢ ${({efectivo:"Efectivo",transferencia:"Transferencia Bancaria",mercado_pago:"Mercado Pago",tarjeta:"Tarjeta de Cr\xe9dito/D\xe9bito"})[es]}

`),ei&&(t+=`*\uD83D\uDCDD NOTAS ADICIONALES:*
${ei}

`),t+="*Por favor, ind\xedquenme los pasos para el pago y env\xedo.*";let a=`https://wa.me/5492235025196?text=${encodeURIComponent(t)}`;window.open(a,"_blank")},variant:"outline",className:"w-full border-green-500/30 text-green-400 hover:bg-green-500/10 font-bold py-5 rounded-xl",children:[s.jsx("svg",{className:"mr-2 h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"O continuar por WhatsApp"]}),!T&&(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs text-center text-gray-600",children:"âœ… Tu pedido quedar\xe1 registrado en nuestra plataforma"}),s.jsx("p",{className:"text-xs text-center text-gray-600",children:"\uD83D\uDCE6 Env\xedos a todo el pa\xeds"}),s.jsx("p",{className:"text-xs text-center text-gray-600",children:"\uD83D\uDCB3 M\xfaltiples m\xe9todos de pago disponibles"})]})]})]})]})})}function q(){let{user:e,loading:t}=(0,i.a)(),{items:a,toggleCart:p}=(0,l.x)(),[b,g]=(0,h.useState)(!1),[f,y]=(0,h.useState)(!1),v=a.reduce((e,t)=>e+t.quantity,0);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("nav",{className:(0,u.cn)("fixed top-0 left-0 right-0 z-50 transition-all duration-300 px-6 py-4",b?"bg-white/90 backdrop-blur-md border-b border-gray-100 shadow-sm":"bg-transparent"),children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,s.jsxs)(r.default,{href:"/",className:"flex items-center gap-2 group",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-accent-rose rounded-xl flex items-center justify-center text-white font-black text-xl shadow-lg shadow-primary/20 group-hover:scale-110 transition-transform",children:"\xc9"}),s.jsx("span",{className:(0,u.cn)("font-bold text-xl tracking-tight transition-colors","text-gray-900"),children:"\xc9TER STORE"})]}),(0,s.jsxs)("div",{className:"hidden md:flex items-center gap-8",children:[s.jsx(r.default,{href:"/catalog",className:"text-sm font-medium text-gray-600 hover:text-primary transition-colors",children:"Cat\xe1logo"}),s.jsx(r.default,{href:"/about",className:"text-sm font-medium text-gray-600 hover:text-primary transition-colors",children:"Nosotros"}),(0,s.jsxs)("button",{onClick:p,className:"relative p-2 hover:bg-gray-100 rounded-full transition-colors group",children:[s.jsx(d.Z,{className:"text-gray-700 group-hover:text-primary transition-colors",size:20}),v>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full animate-in zoom-in shadow-md",children:v})]}),t?s.jsx("div",{className:"w-24 h-8 bg-gray-200 animate-pulse rounded-full"}):e?s.jsx(r.default,{href:"/dashboard",children:(0,s.jsxs)(o.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gray-900 text-white px-5 py-2.5 rounded-full font-bold text-sm flex items-center gap-2 hover:bg-black transition-all shadow-lg shadow-gray-900/20",children:[s.jsx(c.Z,{size:16}),"Dashboard"]})}):(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(r.default,{href:"/login",className:"text-sm font-bold text-gray-700 hover:text-primary transition-colors px-4 py-2",children:"Ingresar"}),s.jsx(r.default,{href:"/register",children:s.jsx(o.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-primary text-white px-6 py-2.5 rounded-full font-bold text-sm hover:bg-primary/90 transition-all shadow-lg shadow-primary/30",children:"Registrarse"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 md:hidden",children:[(0,s.jsxs)("button",{onClick:p,className:"relative p-2","aria-label":"Abrir carrito",children:[s.jsx(d.Z,{className:"text-gray-800",size:24}),v>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full shadow-sm",children:v})]}),s.jsx("button",{type:"button",className:"relative z-50 text-gray-800 p-2 hover:bg-gray-100 rounded-full transition-all active:scale-95",onClick:()=>{try{y(e=>!e)}catch(e){console.error("Error toggling mobile menu:",e)}},"aria-label":f?"Cerrar men\xfa":"Abrir men\xfa","aria-expanded":f,"aria-controls":"mobile-menu",children:f?s.jsx(x.Z,{size:28}):s.jsx(m.Z,{size:28})})]})]}),s.jsx(n.M,{children:f&&(0,s.jsxs)(o.E.div,{id:"mobile-menu",initial:{opacity:0,y:-20,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-20,height:0},transition:{duration:.2,ease:"easeInOut"},className:"md:hidden absolute top-full left-0 right-0 bg-white border-b border-gray-100 p-6 flex flex-col gap-4 shadow-xl overflow-hidden z-40",children:[s.jsx(r.default,{href:"/catalog",onClick:()=>y(!1),className:"text-lg font-medium text-gray-800 py-2 border-b border-gray-50",children:"Cat\xe1logo"}),s.jsx(r.default,{href:"/about",onClick:()=>y(!1),className:"text-lg font-medium text-gray-800 py-2 border-b border-gray-50",children:"Nosotros"}),s.jsx("div",{className:"pt-4 flex flex-col gap-3",children:e?s.jsx(r.default,{href:"/dashboard",onClick:()=>y(!1),children:(0,s.jsxs)("button",{className:"w-full bg-gray-900 text-white py-3.5 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg shadow-gray-900/10",children:[s.jsx(c.Z,{size:18})," Ir al Dashboard"]})}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(r.default,{href:"/login",onClick:()=>y(!1),className:"w-full",children:s.jsx("button",{className:"w-full bg-gray-100 text-gray-900 py-3.5 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:"Ingresar"})}),s.jsx(r.default,{href:"/register",onClick:()=>y(!1),className:"w-full",children:s.jsx("button",{className:"w-full bg-primary text-white py-3.5 rounded-xl font-bold shadow-lg shadow-primary/30",children:"Crear Cuenta"})})]})})]})})]}),s.jsx(Z,{})]})}},57914:(e,t,a)=>{"use strict";a.d(t,{x:()=>i});var s=a(68408),r=a(85251);let i=(0,s.U)()((0,r.tJ)((e,t)=>({items:[],isOpen:!1,addItem:(a,s)=>{let{items:r}=t();r.find(e=>e.id===a.id&&e.selectedSize===s)?e({items:r.map(e=>e.id===a.id&&e.selectedSize===s?{...e,quantity:e.quantity+1}:e),isOpen:!0}):e({items:[...r,{...a,selectedSize:s,quantity:1}],isOpen:!0})},removeItem:(a,s)=>{e({items:t().items.filter(e=>!(e.id===a&&e.selectedSize===s))})},updateQuantity:(a,s,r)=>{r<1||e({items:t().items.map(e=>e.id===a&&e.selectedSize===s?{...e,quantity:r}:e)})},clearCart:()=>e({items:[]}),toggleCart:()=>e({isOpen:!t().isOpen}),getTotal:()=>t().items.reduce((e,t)=>e+(t.basePrice||0)*t.quantity,0)}),{name:"eter-cart-storage"}))},23302:(e,t,a)=>{"use strict";a.r(t),a.d(t,{createOrderFromCart:()=>x,getOrderById:()=>u,getOrders:()=>m,updateOrderStatus:()=>h});var s=a(27745);a(26461);var r=a(57070),i=a(98406),l=a(30207),o=a(9501),n=a(85723);let d=o.Ryn({productId:o.Z_8(),name:o.Z_8(),price:o.Rxh(),quantity:o.Rxh().min(1),size:o.Z_8().optional(),image:o.Z_8().optional()}),c=o.Ryn({items:o.IXX(d).min(1,"El carrito est\xe1 vac\xedo"),customerName:o.Z_8().min(2,"Nombre requerido"),customerEmail:o.Z_8().email("Email inv\xe1lido").optional(),customerPhone:o.Z_8().min(6,"Tel\xe9fono requerido"),resellerName:o.Z_8().min(2,"Nombre del revendedor requerido"),deliveryAddress:o.Z_8().min(5,"Direcci\xf3n requerida"),postalCode:o.Z_8().optional(),deliveryDate:o.Z_8().optional(),paymentMethod:o.KmV(["efectivo","transferencia","mercado_pago","tarjeta"]),notes:o.Z_8().optional()});async function x(e){let t;let a=(0,r.e)(),s=c.safeParse(e);if(!s.success)return{success:!1,message:"Error de validaci\xf3n",errors:s.error.flatten().fieldErrors};let{items:o,customerName:n,customerEmail:d,customerPhone:x,deliveryAddress:m,postalCode:h,deliveryDate:u,paymentMethod:p,notes:b,resellerName:g}=s.data,f=o.reduce((e,t)=>e+t.price*t.quantity,0),{data:{user:y}}=await a.auth.getUser(),v={customer_name:n,customer_email:d||null,total_amount:f,status:"pendiente",items:{products:o.map(e=>({productId:e.productId,name:e.name,price:e.price,quantity:e.quantity,size:e.size,image:e.image})),shipping:{address:m,city:"Mar del Plata",province:"Buenos Aires",postalCode:h,phone:x,date:u,method:p,notes:b,resellerName:g},reseller_id:y?.id||null}};if(process.env.SUPABASE_SERVICE_ROLE_KEY)t=(0,i.eI)("https://tolzrvsykzmvndvomllt.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY,{auth:{autoRefreshToken:!1,persistSession:!1}});else{if(console.warn("âš ï¸ SUPABASE_SERVICE_ROLE_KEY no encontrada. Usando cliente est\xe1ndar."),!y)return console.error("âŒ Intento de Guest Checkout sin SUPABASE_SERVICE_ROLE_KEY. Fallar\xe1 por RLS."),{success:!1,message:"Para realizar el pedido como invitado, el sistema requiere configuraci\xf3n adicional. Por favor, inicia sesi\xf3n para continuar o contacta al soporte."};t=(0,r.e)()}try{let{data:e,error:a}=await t.from("pedidos").insert(v).select("id, created_at").single();if(a)return console.error("Error creating order in Supabase:",a),{success:!1,message:`Error al guardar el pedido: ${a.message||"Error de base de datos"}`};let s=`ETER-${e.id.slice(0,4).toUpperCase()}-${new Date().getFullYear()}`;try{(0,l.revalidatePath)("/dashboard"),(0,l.revalidatePath)("/dashboard?view=orders")}catch(e){console.error("Error revalidating paths:",e)}return{success:!0,message:"Pedido creado exitosamente",orderId:e.id,referenceCode:s}}catch(e){return console.error("Unexpected error during order creation:",e),{success:!1,message:`Error inesperado: ${e.message||"Intente nuevamente"}`}}}async function m(e){let t=(0,r.e)().from("pedidos").select("*").order("created_at",{ascending:!1});e?.status&&"all"!==e.status&&(t=t.eq("status",e.status)),e?.limit&&(t=t.limit(e.limit));let{data:a,error:s}=await t;return s?(console.error("Error fetching orders:",s),[]):a.map(e=>{let t=Array.isArray(e.items)?e.items:e.items?.products||[],a=Array.isArray(e.items)?null:e.items?.shipping;return{id:e.id,reference_code:`ETER-${e.id.slice(0,4).toUpperCase()}-${new Date(e.created_at).getFullYear()}`,customer_name:e.customer_name,customer_email:e.customer_email,customer_phone:e.customer_phone||e.items?.shipping?.phone||null,status:e.status,total_amount:e.total_amount,items:t,shippingDetails:a,created_at:e.created_at}})}async function h(e,t){let a=(0,r.e)(),{data:{user:s}}=await a.auth.getUser();if(!s)return{success:!1,message:"No autorizado"};let{data:i}=await a.from("profiles").select("role").eq("id",s.id).single();if(i?.role!=="admin")return{success:!1,message:"Solo administradores pueden actualizar pedidos"};let{error:o}=await a.from("pedidos").update({status:t}).eq("id",e);return o?(console.error("Error updating order:",o),{success:!1,message:"Error al actualizar el pedido"}):((0,l.revalidatePath)("/dashboard"),(0,l.revalidatePath)("/dashboard?view=orders"),{success:!0,message:"Estado actualizado correctamente"})}async function u(e){let t=(0,r.e)(),{data:a,error:s}=await t.from("pedidos").select("*").eq("id",e).single();if(s)return null;let i=Array.isArray(a.items)?a.items:a.items?.products||[],l=Array.isArray(a.items)?null:a.items?.shipping;return{...a,items:i,shippingDetails:l,customer_phone:a.customer_phone||a.items?.shipping?.phone||null,reference_code:`ETER-${a.id.slice(0,4).toUpperCase()}-${new Date(a.created_at).getFullYear()}`}}(0,n.h)([x,m,h,u]),(0,s.j)("6351432df3e44edfcb8453490de17a143b0c5e26",x),(0,s.j)("578b188545d16cd2a826e5b634755f4bfde26286",m),(0,s.j)("3b790d46d78ec4aa5c227581a09039c9638ab494",h),(0,s.j)("0963c52e3d0d38eaf6ceb3f4b61c834aa8a997dc",u)},86345:(e,t,a)=>{"use strict";a.d(t,{w:()=>s});let s=(0,a(68570).createProxy)(String.raw`C:\Users\Tole\Desktop\Pegada Solo\eter-store\src\components\layout\Navbar.tsx#Navbar`)},57070:(e,t,a)=>{"use strict";a.d(t,{e:()=>i});var s=a(26407),r=a(53973);function i(){let e=(0,r.cookies)();return(0,s.createServerClient)("https://tolzrvsykzmvndvomllt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRvbHpydnN5a3ptdm5kdm9tbGx0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwODQ5MDAsImV4cCI6MjA4NTY2MDkwMH0.pYQlxzkeUO6xsIDwe77kKCtapcVn507pgmcXPjhQH-o",{cookies:{getAll:()=>e.getAll(),setAll(t){try{t.forEach(({name:t,value:a,options:s})=>e.set(t,a,s))}catch{}}}})}}};