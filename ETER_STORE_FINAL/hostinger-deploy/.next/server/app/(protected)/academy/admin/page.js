(()=>{var e={};e.id=600,e.ids=[600],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},54539:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),a(43470),a(52356),a(60916),a(22824),a(7629),a(12523);var r=a(23191),s=a(88716),d=a(37922),i=a.n(d),n=a(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let l=["",{children:["(protected)",{children:["academy",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,43470)),"C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\(protected)\\academy\\admin\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,52356)),"C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\(protected)\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(a.bind(a,60916)),"C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\layout.tsx"],template:[()=>Promise.resolve().then(a.bind(a,22824)),"C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\template.tsx"],error:[()=>Promise.resolve().then(a.bind(a,7629)),"C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,12523)),"C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],c=["C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\(protected)\\academy\\admin\\page.tsx"],u="/(protected)/academy/admin/page",f={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(protected)/academy/admin/page",pathname:"/academy/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},55166:(e,t,a)=>{let r={"0bf380bc91f93549647f616bf6e65a935dd3e0c1":()=>Promise.resolve().then(a.bind(a,58507)).then(e=>e.createLesson),"14292334159141a2d2a5110225b42bf0b021ef58":()=>Promise.resolve().then(a.bind(a,58507)).then(e=>e.createCourse),"2398636c068ae8ecea9ccb6e6d18c2bf7d74474b":()=>Promise.resolve().then(a.bind(a,58507)).then(e=>e.completeLesson),"39e0b21b766fdbbcf9d3b0ecf081e0d8ecaf1948":()=>Promise.resolve().then(a.bind(a,58507)).then(e=>e.getAcademyJourney),"7b18d6afe53d36cbc468e15f46eb579998b015d3":()=>Promise.resolve().then(a.bind(a,58507)).then(e=>e.createModule),b61b29cce2a7184013bbdd8fe3206fadda4d89ea:()=>Promise.resolve().then(a.bind(a,58507)).then(e=>e.getLesson),"79f3f00d4b0c2946f94fdcd69d6b36cb5d5604f2":()=>Promise.resolve().then(a.bind(a,41418)).then(e=>e.logoutAction),b9fdf25a15fb84304180adce81eea9b6b985602a:()=>Promise.resolve().then(a.bind(a,41418)).then(e=>e.bypassLogin),"02faf8ba246693e6c0a3b500845d2d023c5b63e0":()=>Promise.resolve().then(a.bind(a,17571)).then(e=>e.markAllNotificationsAsRead),a2d71eeef76473d502ea1739d17676268d88d2de:()=>Promise.resolve().then(a.bind(a,17571)).then(e=>e.markNotificationAsRead),f921dcc1306a52e263eed5669937fd4e6649104a:()=>Promise.resolve().then(a.bind(a,17571)).then(e=>e.getNotifications)};async function s(e,...t){return(await r[e]()).apply(null,t)}e.exports={"0bf380bc91f93549647f616bf6e65a935dd3e0c1":s.bind(null,"0bf380bc91f93549647f616bf6e65a935dd3e0c1"),"14292334159141a2d2a5110225b42bf0b021ef58":s.bind(null,"14292334159141a2d2a5110225b42bf0b021ef58"),"2398636c068ae8ecea9ccb6e6d18c2bf7d74474b":s.bind(null,"2398636c068ae8ecea9ccb6e6d18c2bf7d74474b"),"39e0b21b766fdbbcf9d3b0ecf081e0d8ecaf1948":s.bind(null,"39e0b21b766fdbbcf9d3b0ecf081e0d8ecaf1948"),"7b18d6afe53d36cbc468e15f46eb579998b015d3":s.bind(null,"7b18d6afe53d36cbc468e15f46eb579998b015d3"),b61b29cce2a7184013bbdd8fe3206fadda4d89ea:s.bind(null,"b61b29cce2a7184013bbdd8fe3206fadda4d89ea"),"79f3f00d4b0c2946f94fdcd69d6b36cb5d5604f2":s.bind(null,"79f3f00d4b0c2946f94fdcd69d6b36cb5d5604f2"),b9fdf25a15fb84304180adce81eea9b6b985602a:s.bind(null,"b9fdf25a15fb84304180adce81eea9b6b985602a"),"02faf8ba246693e6c0a3b500845d2d023c5b63e0":s.bind(null,"02faf8ba246693e6c0a3b500845d2d023c5b63e0"),a2d71eeef76473d502ea1739d17676268d88d2de:s.bind(null,"a2d71eeef76473d502ea1739d17676268d88d2de"),f921dcc1306a52e263eed5669937fd4e6649104a:s.bind(null,"f921dcc1306a52e263eed5669937fd4e6649104a")}},50887:(e,t,a)=>{Promise.resolve().then(a.bind(a,83155))},83855:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(25578).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},69171:(e,t,a)=>{"use strict";a.d(t,{N:()=>d,P6:()=>i,aA:()=>s,l6:()=>n}),a(15424);var r=a(46242),s=(0,r.$)("0bf380bc91f93549647f616bf6e65a935dd3e0c1");(0,r.$)("39e0b21b766fdbbcf9d3b0ecf081e0d8ecaf1948");var d=(0,r.$)("2398636c068ae8ecea9ccb6e6d18c2bf7d74474b");(0,r.$)("b61b29cce2a7184013bbdd8fe3206fadda4d89ea");var i=(0,r.$)("14292334159141a2d2a5110225b42bf0b021ef58"),n=(0,r.$)("7b18d6afe53d36cbc468e15f46eb579998b015d3")},83155:(e,t,a)=>{"use strict";a.d(t,{AdminAcademyManager:()=>g});var r=a(10326),s=a(17577),d=a(69171),i=a(91664),n=a(41190),o=a(44794),l=a(82015),c=a(29280),u=a(56627),f=a(29752),p=a(83855),m=a(25578);let b=(0,m.Z)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),h=(0,m.Z)("file-play",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M15.033 13.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56v-4.704a.645.645 0 0 1 .967-.56z",key:"1tzo1f"}]]);var x=a(51223);function g({initialCourses:e,initialModules:t}){let{toast:a}=(0,u.p)(),[m,g]=(0,s.useState)("courses"),[y,j]=(0,s.useState)({title:"",description:"",slug:"",thumbnail_url:""}),[v,w]=(0,s.useState)({course_id:"",title:"",order:1}),[_,N]=(0,s.useState)({module_id:"",title:"",type:"video",url:"",description:"",xp_reward:50,order:1,is_vip:!0}),P=async()=>{try{await (0,d.P6)(y),a.success("Curso creado exitosamente"),j({title:"",description:"",slug:"",thumbnail_url:""})}catch{a.error("Error al crear curso")}},C=async()=>{try{await (0,d.l6)(v),a.success("M\xf3dulo creado exitosamente"),w({...v,title:""})}catch{a.error("Error al crear m\xf3dulo")}},R=async()=>{try{await (0,d.aA)(_),a.success("Lecci\xf3n creada exitosamente"),N({..._,title:"",url:""})}catch{a.error("Error al crear lecci\xf3n")}},k=({value:e,label:t})=>r.jsx("button",{onClick:()=>g(e),className:(0,x.cn)("px-4 py-2 text-sm font-medium rounded-lg transition-colors",m===e?"bg-gray-900 text-white shadow":"text-gray-500 hover:text-gray-900 hover:bg-gray-100"),children:t});return(0,r.jsxs)("div",{className:"w-full space-y-6",children:[(0,r.jsxs)("div",{className:"flex space-x-2 bg-gray-100 p-1 rounded-xl w-fit",children:[r.jsx(k,{value:"courses",label:"Cursos"}),r.jsx(k,{value:"modules",label:"M\xf3dulos"}),r.jsx(k,{value:"lessons",label:"Lecciones"})]}),"courses"===m&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,r.jsxs)(f.Zb,{children:[(0,r.jsxs)(f.Ol,{children:[r.jsx(f.ll,{children:"Crear Nuevo Curso"}),r.jsx(f.SZ,{children:"Define la estructura principal."})]}),(0,r.jsxs)(f.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(o._,{children:"T\xedtulo"}),r.jsx(n.I,{value:y.title,onChange:e=>j({...y,title:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(o._,{children:"Slug (URL amigable)"}),r.jsx(n.I,{value:y.slug,placeholder:"ej: fundamentos-ventas",onChange:e=>j({...y,slug:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(o._,{children:"Descripci\xf3n"}),r.jsx(l.g,{value:y.description,onChange:e=>j({...y,description:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(o._,{children:"Thumbnail URL"}),r.jsx(n.I,{value:y.thumbnail_url,placeholder:"https://...",onChange:e=>j({...y,thumbnail_url:e.target.value})})]}),(0,r.jsxs)(i.z,{onClick:P,className:"w-full",children:[r.jsx(p.Z,{className:"w-4 h-4 mr-2"})," Crear Curso"]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-bold text-lg",children:"Cursos Existentes"}),e.map(e=>(0,r.jsxs)("div",{className:"p-4 border rounded-lg flex items-center justify-between bg-white dark:bg-gray-900",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-bold",children:e.title}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["/",e.slug]})]}),r.jsx("span",{className:e.is_published?"text-green-500 text-xs":"text-yellow-500 text-xs",children:e.is_published?"Publicado":"Borrador"})]},e.id))]})]}),"modules"===m&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,r.jsxs)(f.Zb,{children:[(0,r.jsxs)(f.Ol,{children:[r.jsx(f.ll,{children:"Agregar M\xf3dulo"}),r.jsx(f.SZ,{children:"Agrupa lecciones dentro de un curso."})]}),(0,r.jsxs)(f.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(o._,{children:"Seleccionar Curso"}),(0,r.jsxs)(c.Ph,{onValueChange:e=>w({...v,course_id:e}),children:[r.jsx(c.i4,{children:r.jsx(c.ki,{placeholder:"Elige un curso"})}),r.jsx(c.Bw,{children:e.map(e=>r.jsx(c.Ql,{value:e.id,children:e.title},e.id))})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(o._,{children:"T\xedtulo del M\xf3dulo"}),r.jsx(n.I,{value:v.title,onChange:e=>w({...v,title:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(o._,{children:"Orden"}),r.jsx(n.I,{type:"number",value:v.order,onChange:e=>w({...v,order:parseInt(e.target.value)})})]}),(0,r.jsxs)(i.z,{onClick:C,className:"w-full",children:[r.jsx(b,{className:"w-4 h-4 mr-2"})," Crear M\xf3dulo"]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-bold text-lg",children:"M\xf3dulos Existentes"}),t.map(t=>(0,r.jsxs)("div",{className:"p-4 border rounded-lg bg-white dark:bg-gray-900",children:[r.jsx("p",{className:"font-bold",children:t.title}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["Curso: ",e.find(e=>e.id===t.course_id)?.title||"Desconocido"]})]},t.id))]})]}),"lessons"===m&&(0,r.jsxs)(f.Zb,{children:[(0,r.jsxs)(f.Ol,{children:[r.jsx(f.ll,{children:"Subir Contenido (Lecci\xf3n)"}),r.jsx(f.SZ,{children:"Sube videos, PDFs o audios."})]}),(0,r.jsxs)(f.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(o._,{children:"M\xf3dulo"}),(0,r.jsxs)(c.Ph,{onValueChange:e=>N({..._,module_id:e}),children:[r.jsx(c.i4,{children:r.jsx(c.ki,{placeholder:"Elige un m\xf3dulo"})}),r.jsx(c.Bw,{children:t.map(e=>r.jsx(c.Ql,{value:e.id,children:e.title},e.id))})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(o._,{children:"Tipo"}),(0,r.jsxs)(c.Ph,{defaultValue:"video",onValueChange:e=>N({..._,type:e}),children:[r.jsx(c.i4,{children:r.jsx(c.ki,{})}),(0,r.jsxs)(c.Bw,{children:[r.jsx(c.Ql,{value:"video",children:"Video (YouTube/Vimeo)"}),r.jsx(c.Ql,{value:"pdf",children:"PDF"}),r.jsx(c.Ql,{value:"audio",children:"Audio"})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(o._,{children:"T\xedtulo"}),r.jsx(n.I,{value:_.title,onChange:e=>N({..._,title:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(o._,{children:"URL del Contenido"}),r.jsx(n.I,{value:_.url,placeholder:"https://...",onChange:e=>N({..._,url:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(o._,{children:"Descripci\xf3n"}),r.jsx(l.g,{value:_.description,onChange:e=>N({..._,description:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(o._,{children:"XP Recompensa"}),r.jsx(n.I,{type:"number",value:_.xp_reward,onChange:e=>N({..._,xp_reward:parseInt(e.target.value)})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(o._,{children:"Orden"}),r.jsx(n.I,{type:"number",value:_.order,onChange:e=>N({..._,order:parseInt(e.target.value)})})]})]}),(0,r.jsxs)(i.z,{onClick:R,className:"w-full bg-green-600 hover:bg-green-700",children:[r.jsx(h,{className:"w-4 h-4 mr-2"})," Publicar Lecci\xf3n"]})]})]})]})}},29752:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>n,SZ:()=>l,Zb:()=>i,aY:()=>c,ll:()=>o});var r=a(10326),s=a(17577),d=a(51223);let i=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,d.cn)("rounded-xl border border-white/10 bg-surface text-content-body shadow-sm backdrop-blur-sm",e),...t}));i.displayName="Card";let n=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let o=s.forwardRef(({className:e,...t},a)=>r.jsx("h3",{ref:a,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight text-content-heading",e),...t}));o.displayName="CardTitle";let l=s.forwardRef(({className:e,...t},a)=>r.jsx("p",{ref:a,className:(0,d.cn)("text-sm text-content-muted",e),...t}));l.displayName="CardDescription";let c=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,d.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,d.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},29280:(e,t,a)=>{"use strict";a.d(t,{Bw:()=>b,Ph:()=>c,Ql:()=>h,i4:()=>f,ki:()=>u});var r=a(10326),s=a(17577),d=a(22389),i=a(941),n=a(96633),o=a(32933),l=a(51223);let c=d.fC;d.ZA;let u=d.B4,f=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(d.xz,{ref:s,className:(0,l.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,r.jsx(d.JO,{asChild:!0,children:r.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));f.displayName=d.xz.displayName;let p=s.forwardRef(({className:e,...t},a)=>r.jsx(d.u_,{ref:a,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(n.Z,{className:"h-4 w-4"})}));p.displayName=d.u_.displayName;let m=s.forwardRef(({className:e,...t},a)=>r.jsx(d.$G,{ref:a,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(i.Z,{className:"h-4 w-4"})}));m.displayName=d.$G.displayName;let b=s.forwardRef(({className:e,children:t,position:a="popper",...s},i)=>r.jsx(d.h_,{children:(0,r.jsxs)(d.VY,{ref:i,className:(0,l.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...s,children:[r.jsx(p,{}),r.jsx(d.l_,{className:(0,l.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(m,{})]})}));b.displayName=d.VY.displayName,s.forwardRef(({className:e,...t},a)=>r.jsx(d.__,{ref:a,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",e),...t})).displayName=d.__.displayName;let h=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(d.ck,{ref:s,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[r.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(d.wU,{children:r.jsx(o.Z,{className:"h-4 w-4"})})}),r.jsx(d.eT,{children:t})]}));h.displayName=d.ck.displayName,s.forwardRef(({className:e,...t},a)=>r.jsx(d.Z0,{ref:a,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=d.Z0.displayName},82015:(e,t,a)=>{"use strict";a.d(t,{g:()=>i});var r=a(10326),s=a(17577),d=a(51223);let i=s.forwardRef(({className:e,...t},a)=>r.jsx("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));i.displayName="Textarea"},56627:(e,t,a)=>{"use strict";a.d(t,{p:()=>s});var r=a(85999);let s=()=>({toast:r.A})},58585:(e,t,a)=>{"use strict";var r=a(61085);a.o(r,"notFound")&&a.d(t,{notFound:function(){return r.notFound}}),a.o(r,"redirect")&&a.d(t,{redirect:function(){return r.redirect}})},61085:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{ReadonlyURLSearchParams:function(){return i},RedirectType:function(){return r.RedirectType},notFound:function(){return s.notFound},permanentRedirect:function(){return r.permanentRedirect},redirect:function(){return r.redirect}});let r=a(83953),s=a(16399);class d extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new d}delete(){throw new d}set(){throw new d}sort(){throw new d}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{isNotFoundError:function(){return s},notFound:function(){return r}});let a="NEXT_NOT_FOUND";function r(){let e=Error(a);throw e.digest=a,e}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===a}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return a}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(a||(a={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,a)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{RedirectType:function(){return r},getRedirectError:function(){return o},getRedirectStatusCodeFromError:function(){return m},getRedirectTypeFromError:function(){return p},getURLFromRedirectError:function(){return f},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return l}});let s=a(54580),d=a(72934),i=a(8586),n="NEXT_REDIRECT";function o(e,t,a){void 0===a&&(a=i.RedirectStatusCode.TemporaryRedirect);let r=Error(n);r.digest=n+";"+t+";"+e+";"+a+";";let d=s.requestAsyncStorage.getStore();return d&&(r.mutableCookies=d.mutableCookies),r}function l(e,t){void 0===t&&(t="replace");let a=d.actionAsyncStorage.getStore();throw o(e,t,(null==a?void 0:a.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let a=d.actionAsyncStorage.getStore();throw o(e,t,(null==a?void 0:a.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,a,r,s]=e.digest.split(";",4),d=Number(s);return t===n&&("replace"===a||"push"===a)&&"string"==typeof r&&!isNaN(d)&&d in i.RedirectStatusCode}function f(e){return u(e)?e.digest.split(";",3)[2]:null}function p(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function m(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},43470:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var r=a(19510),s=a(56751),d=a(58585);let i=(0,a(68570).createProxy)(String.raw`C:\Users\Tole\Desktop\Pegada Solo\eter-store\src\components\academy\admin\AdminAcademyManager.tsx#AdminAcademyManager`);async function n(){let e=(0,s.e)(),{data:{user:t}}=await e.auth.getUser();t||(0,d.redirect)("/login");let{data:a}=await e.from("profiles").select("role").eq("id",t.id).single();a?.role!=="admin"&&a?.role!=="support"&&(0,d.redirect)("/academy");let{data:n}=await e.from("academy_courses").select("*").order("created_at"),{data:o}=await e.from("academy_modules").select("*").order("created_at");return(0,r.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8 pb-20",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gesti\xf3n de Academia"}),r.jsx("div",{className:"bg-orange-100 text-orange-700 px-4 py-2 rounded-full font-bold text-sm",children:"Modo Admin"})]}),r.jsx(i,{initialCourses:n||[],initialModules:o||[]})]})}},58507:(e,t,a)=>{"use strict";a.r(t),a.d(t,{completeLesson:()=>n,createCourse:()=>l,createLesson:()=>u,createModule:()=>c,getAcademyJourney:()=>i,getLesson:()=>o});var r=a(27745);a(26461);var s=a(57070),d=a(30207);async function i(){try{let e=(0,s.e)(),{data:{user:t},error:a}=await e.auth.getUser();if(a||!t)return[];let{data:r,error:d}=await e.from("academy_courses").select(`
        *,
        modules:academy_modules(
            *,
            lessons:academy_content(*)
        )
        `).eq("is_published",!0).order("created_at",{ascending:!0});if(d||!r)return[];let{data:i}=await e.from("academy_progress").select("content_id").eq("user_id",t.id),n=new Set(i?.map(e=>e.content_id)||[]);return r.map(e=>{let t=0,a=0,r=(e.modules||[]).sort((e,t)=>(e.order||0)-(t.order||0)).map(e=>{let r=(e.lessons||[]).sort((e,t)=>(e.order||0)-(t.order||0)).map(e=>{t++;let r=n.has(e.id);return r&&a++,{...e,completed:r}});return{...e,lessons:r}});return{...e,modules:r,progress:t>0?Math.round(a/t*100):0}})}catch(e){return console.error("Academy Error:",e),[]}}async function n(e){try{let t=(0,s.e)(),{data:{user:a}}=await t.auth.getUser();if(!a)throw Error("Not authorized");let{data:r}=await t.from("academy_progress").select("content_id").eq("user_id",a.id).eq("content_id",e).single();if(r)return{success:!0,message:"Already completed"};let{data:i}=await t.from("academy_content").select("xp_reward").eq("id",e).single();if(!i)throw Error("Lesson not found");let{error:n}=await t.from("academy_progress").insert({user_id:a.id,content_id:e});if(n)throw n;let{error:o}=await t.rpc("increment_points",{user_id:a.id,points_to_add:i.xp_reward});if(o){let{data:e}=await t.from("profiles").select("points").eq("id",a.id).single();await t.from("profiles").update({points:(e?.points||0)+(i.xp_reward||0)}).eq("id",a.id)}return(0,d.revalidatePath)("/academy"),{success:!0,xpGained:i.xp_reward}}catch(e){return console.error("Academy complete error:",e),{success:!1,error:"Failed to complete lesson"}}}async function o(e){try{let t=(0,s.e)(),{data:{user:a}}=await t.auth.getUser();if(!a)return null;let{data:r,error:d}=await t.from("academy_content").select("*").eq("id",e).single();if(d||!r)return null;let{data:i}=await t.from("academy_progress").select("completed_at").eq("user_id",a.id).eq("content_id",e).single();return{...r,completed:!!i}}catch(e){return console.error("Academy get lesson error:",e),null}}async function l(e){let t=(0,s.e)(),{error:a}=await t.from("academy_courses").insert(e);if(a)throw a;return(0,d.revalidatePath)("/academy"),{success:!0}}async function c(e){let t=(0,s.e)(),{error:a}=await t.from("academy_modules").insert(e);if(a)throw a;return(0,d.revalidatePath)("/academy"),{success:!0}}async function u(e){let t=(0,s.e)(),{error:a}=await t.from("academy_content").insert(e);if(a)throw a;return(0,d.revalidatePath)("/academy"),{success:!0}}(0,a(85723).h)([i,n,o,l,c,u]),(0,r.j)("39e0b21b766fdbbcf9d3b0ecf081e0d8ecaf1948",i),(0,r.j)("2398636c068ae8ecea9ccb6e6d18c2bf7d74474b",n),(0,r.j)("b61b29cce2a7184013bbdd8fe3206fadda4d89ea",o),(0,r.j)("14292334159141a2d2a5110225b42bf0b021ef58",l),(0,r.j)("7b18d6afe53d36cbc468e15f46eb579998b015d3",c),(0,r.j)("0bf380bc91f93549647f616bf6e65a935dd3e0c1",u)},17571:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getNotifications:()=>i,markAllNotificationsAsRead:()=>o,markNotificationAsRead:()=>n});var r=a(27745);a(26461);var s=a(57070),d=a(30207);async function i(){let e=(0,s.e)(),{data:{user:t}}=await e.auth.getUser();if(!t)return[];let{data:a,error:r}=await e.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(20);return r?[]:a}async function n(e){let t=(0,s.e)(),{data:{user:a}}=await t.auth.getUser();if(!a)return{error:"Unauthorized"};let{error:r}=await t.from("notifications").update({read:!0}).eq("id",e).eq("user_id",a.id);return r?{error:"Failed to update notification"}:((0,d.revalidatePath)("/dashboard"),{success:!0})}async function o(){let e=(0,s.e)(),{data:{user:t}}=await e.auth.getUser();if(!t)return{error:"Unauthorized"};let{error:a}=await e.from("notifications").update({read:!0}).eq("user_id",t.id).eq("read",!1);return a?{error:"Failed to update notifications"}:((0,d.revalidatePath)("/dashboard"),{success:!0})}(0,a(85723).h)([i,n,o]),(0,r.j)("f921dcc1306a52e263eed5669937fd4e6649104a",i),(0,r.j)("a2d71eeef76473d502ea1739d17676268d88d2de",n),(0,r.j)("02faf8ba246693e6c0a3b500845d2d023c5b63e0",o)},56751:(e,t,a)=>{"use strict";a.d(t,{e:()=>d});var r=a(72728),s=a(71615);function d(){let e=(0,s.cookies)();return(0,r.createServerClient)("https://tolzrvsykzmvndvomllt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRvbHpydnN5a3ptdm5kdm9tbGx0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwODQ5MDAsImV4cCI6MjA4NTY2MDkwMH0.pYQlxzkeUO6xsIDwe77kKCtapcVn507pgmcXPjhQH-o",{cookies:{getAll:()=>e.getAll(),setAll(t){try{t.forEach(({name:t,value:a,options:r})=>e.set(t,a,r))}catch{}}}})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[948,483,26,637,230,397,591,260],()=>a(54539));module.exports=r})();