(()=>{var e={};e.id=43,e.ids=[43],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},92048:e=>{"use strict";e.exports=require("fs")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},6162:e=>{"use strict";e.exports=require("worker_threads")},952:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>n}),a(85548),a(60916),a(22824),a(7629),a(12523);var r=a(23191),s=a(88716),o=a(37922),i=a.n(o),l=a(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);a.d(t,c);let n=["",{children:["catalog",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,85548)),"C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\catalog\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(a.bind(a,60916)),"C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\layout.tsx"],template:[()=>Promise.resolve().then(a.bind(a,22824)),"C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\template.tsx"],error:[()=>Promise.resolve().then(a.bind(a,7629)),"C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,12523)),"C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],d=["C:\\Users\\Tole\\Desktop\\Pegada Solo\\eter-store\\src\\app\\catalog\\page.tsx"],u="/catalog/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/catalog/page",pathname:"/catalog",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},73582:(e,t,a)=>{let r={"197801779373472057917955eb08dc056d65e73c":()=>Promise.resolve().then(a.bind(a,3115)).then(e=>e.getProducts),"1d1ecad8c7a07318f0eb63fd9b7ad167522cbe49":()=>Promise.resolve().then(a.bind(a,3115)).then(e=>e.updateProduct),"6853ccbc56f0d770fd65e278d296db834a4265cc":()=>Promise.resolve().then(a.bind(a,3115)).then(e=>e.bulkDeleteProducts),"6eddd26a4302e1b6f8ed7c36231e178db18ebfa6":()=>Promise.resolve().then(a.bind(a,3115)).then(e=>e.bulkUpdateProducts),a5f078fbd7f40fbe6edec152b4ca638a63b71caa:()=>Promise.resolve().then(a.bind(a,3115)).then(e=>e.createProduct),ecbce8da19ebef56e49982efb9e7efd14fd2f7c0:()=>Promise.resolve().then(a.bind(a,3115)).then(e=>e.deleteProduct),fb12ccb96b2e451645061970795dfe5910cdc6f3:()=>Promise.resolve().then(a.bind(a,3115)).then(e=>e.bulkImportProducts)};async function s(e,...t){return(await r[e]()).apply(null,t)}e.exports={"197801779373472057917955eb08dc056d65e73c":s.bind(null,"197801779373472057917955eb08dc056d65e73c"),"1d1ecad8c7a07318f0eb63fd9b7ad167522cbe49":s.bind(null,"1d1ecad8c7a07318f0eb63fd9b7ad167522cbe49"),"6853ccbc56f0d770fd65e278d296db834a4265cc":s.bind(null,"6853ccbc56f0d770fd65e278d296db834a4265cc"),"6eddd26a4302e1b6f8ed7c36231e178db18ebfa6":s.bind(null,"6eddd26a4302e1b6f8ed7c36231e178db18ebfa6"),a5f078fbd7f40fbe6edec152b4ca638a63b71caa:s.bind(null,"a5f078fbd7f40fbe6edec152b4ca638a63b71caa"),ecbce8da19ebef56e49982efb9e7efd14fd2f7c0:s.bind(null,"ecbce8da19ebef56e49982efb9e7efd14fd2f7c0"),fb12ccb96b2e451645061970795dfe5910cdc6f3:s.bind(null,"fb12ccb96b2e451645061970795dfe5910cdc6f3")}},13495:(e,t,a)=>{Promise.resolve().then(a.bind(a,73848)),Promise.resolve().then(a.bind(a,53288))},32933:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(25578).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},941:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(25578).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},88307:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(25578).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},73848:(e,t,a)=>{"use strict";a.d(t,{CatalogView:()=>L});var r=a(10326),s=a(17577),o=a(35047),i=a(94019),l=a(88307),c=a(84507),n=a(44713),d=a(941),u=a(61521),p=a(32933),m=a(9086),x=a(51223);function b({filters:e,categories:t,brands:a,priceRange:o,suggestions:b,onChange:h,onReset:f}){let v=(0,s.useId)(),y=(0,s.useId)(),[j,w]=(0,s.useState)(!1),[N,k]=(0,s.useState)(-1),[_,P]=(0,s.useState)(!1),z=(0,s.useRef)(null),C=(0,s.useMemo)(()=>!e.query||e.query.length<2?[]:b.filter(t=>t.toLowerCase().includes(e.query.toLowerCase())).slice(0,5),[b,e.query]),A=_&&C.length>0,S=t=>{h({...e,...t})},q=(0,s.useMemo)(()=>{let t=0;return"Todos"!==e.category&&t++,"Todas"!==e.brand&&t++,"all"!==e.availability&&t++,e.minPrice&&t++,e.maxPrice&&t++,t},[e]);return(0,r.jsxs)("div",{className:"w-full max-w-5xl mx-auto font-body",children:[(0,r.jsxs)("div",{className:(0,x.cn)("relative z-30 flex flex-col md:flex-row items-center gap-3 p-2 bg-white/40 backdrop-blur-3xl rounded-[2.5rem] shadow-[0_32px_80px_rgba(0,0,0,0.08)] border border-white/60 transition-all duration-500",_?"ring-[6px] ring-accent/5 border-accent/20":"hover:border-black/5"),children:[(0,r.jsxs)("div",{className:"relative flex-1 w-full",children:[r.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-muted-foreground/50",children:r.jsx(l.Z,{size:18})}),r.jsx("input",{ref:z,id:v,value:e.query,onChange:e=>{S({query:e.target.value}),k(-1)},onFocus:()=>P(!0),onBlur:()=>setTimeout(()=>P(!1),200),onKeyDown:e=>{A&&("ArrowDown"===e.key&&(e.preventDefault(),k(e=>Math.min(e+1,C.length-1))),"ArrowUp"===e.key&&(e.preventDefault(),k(e=>Math.max(e-1,0))),"Enter"===e.key&&(e.preventDefault(),N>=0&&S({query:C[N]}),z.current?.blur(),k(-1),P(!1)),"Escape"===e.key&&P(!1))},placeholder:"Modelos, marcas o estilos premium...",className:"w-full h-14 pl-14 pr-12 bg-transparent border-none outline-none text-base text-foreground placeholder:text-muted-foreground/40 font-medium rounded-full",autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-expanded":A,"aria-controls":y}),e.query&&r.jsx("button",{onClick:()=>S({query:""}),className:"absolute right-4 top-1/2 -translate-y-1/2 p-1.5 text-muted-foreground hover:text-foreground rounded-full hover:bg-black/5 transition-colors",children:r.jsx(i.Z,{size:14})}),r.jsx(m.M,{children:A&&(0,r.jsxs)(c.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute top-full left-0 right-0 mt-4 bg-white/80 backdrop-blur-3xl rounded-[2rem] shadow-[0_40px_100px_rgba(0,0,0,0.12)] border border-white/60 overflow-hidden py-4",children:[r.jsx("div",{className:"px-6 py-2 text-[10px] font-bold text-muted-foreground/60 uppercase tracking-[0.2em]",children:"Sugerencias VIP"}),C.map((e,t)=>(0,r.jsxs)("button",{onClick:()=>{S({query:e}),P(!1)},className:(0,x.cn)("w-full px-6 py-3.5 text-left text-sm font-medium flex items-center justify-between group transition-all",N===t?"bg-accent/5 text-accent":"text-foreground hover:bg-black/[0.02]"),children:[(0,r.jsxs)("span",{className:"flex items-center gap-3",children:[r.jsx(l.Z,{size:14,className:N===t?"text-accent":"text-muted-foreground/40"}),e]}),r.jsx(n.Z,{size:14,className:"opacity-0 group-hover:opacity-100 text-accent transition-all"})]},e))]})})]}),r.jsx("div",{className:"h-10 w-px bg-black/[0.03] hidden md:block"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 w-full md:w-auto px-2",children:[(0,r.jsxs)("div",{className:"relative flex-1 md:flex-none",children:[r.jsx("select",{value:e.sort,onChange:e=>S({sort:e.target.value}),className:"w-full md:w-44 h-12 pl-6 pr-12 appearance-none bg-black/[0.02] hover:bg-black/[0.04] border border-transparent rounded-full text-[11px] font-bold uppercase tracking-widest text-foreground outline-none cursor-pointer transition-all",children:[{value:"relevance",label:"Relevancia"},{value:"newest",label:"Novedades"},{value:"price_asc",label:"Precio: Menor"},{value:"price_desc",label:"Precio: Mayor"}].map(e=>r.jsx("option",{value:e.value,children:e.label.toUpperCase()},e.value))}),r.jsx(d.Z,{size:14,className:"absolute right-5 top-1/2 -translate-y-1/2 text-muted-foreground/60 pointer-events-none"})]}),(0,r.jsxs)("button",{onClick:()=>w(!j),className:(0,x.cn)("h-12 px-8 rounded-full flex items-center gap-3 font-bold text-[11px] uppercase tracking-[0.2em] transition-all duration-500 shadow-sm border",j||q>0?"bg-primary text-white border-primary shadow-xl shadow-primary/20":"bg-white/60 text-foreground border-white/80 hover:border-accent/30 hover:shadow-lg active:scale-95 cursor-pointer"),children:[r.jsx(u.Z,{size:16}),r.jsx("span",{className:"hidden sm:inline",children:"Filtrar"}),q>0&&r.jsx("span",{className:"bg-accent text-white text-[9px] w-5 h-5 flex items-center justify-center rounded-full font-bold",children:q})]})]})]}),r.jsx(m.M,{children:j&&r.jsx(c.E.div,{initial:{height:0,opacity:0,marginTop:0},animate:{height:"auto",opacity:1,marginTop:16},exit:{height:0,opacity:0,marginTop:0},transition:{duration:.3,ease:"circOut"},className:"overflow-hidden",children:(0,r.jsxs)("div",{className:"bg-white/40 backdrop-blur-3xl rounded-[2.5rem] p-10 border border-white/60 shadow-[0_40px_100px_rgba(0,0,0,0.06)] relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-accent/5 rounded-full blur-3xl -z-10"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-primary/5 rounded-full blur-3xl -z-10"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10",children:[(0,r.jsxs)("div",{className:"space-y-5",children:[r.jsx("label",{className:"text-[10px] font-bold text-muted-foreground/60 uppercase tracking-[0.2em]",children:"Categor\xeda"}),r.jsx("div",{className:"flex flex-wrap gap-2.5",children:t.map(t=>r.jsx("button",{onClick:()=>S({category:t}),className:(0,x.cn)("px-4 py-2 rounded-xl text-[10px] font-bold uppercase tracking-widest border transition-all",e.category===t?"bg-primary text-white border-primary shadow-lg shadow-primary/20":"bg-white/60 text-muted-foreground border-white/80 hover:border-accent/30"),children:t},t))})]}),(0,r.jsxs)("div",{className:"space-y-5",children:[r.jsx("label",{className:"text-[10px] font-bold text-muted-foreground/60 uppercase tracking-[0.2em]",children:"Marca de Lujo"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("select",{value:e.brand,onChange:e=>S({brand:e.target.value}),className:"w-full p-4 bg-white/60 border border-white/80 rounded-2xl text-[11px] font-bold uppercase tracking-widest outline-none focus:ring-4 focus:ring-accent/5 focus:border-accent/30 appearance-none transition-all",children:a.map(e=>r.jsx("option",{value:e,children:e.toUpperCase()},e))}),r.jsx(d.Z,{size:14,className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground/40 pointer-events-none"})]})]}),(0,r.jsxs)("div",{className:"space-y-5",children:[r.jsx("label",{className:"text-[10px] font-bold text-muted-foreground/60 uppercase tracking-[0.2em]",children:"Rango de Inversi\xf3n"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground/40 text-[10px] font-bold",children:"$"}),r.jsx("input",{type:"number",value:e.minPrice,onChange:e=>S({minPrice:e.target.value}),placeholder:o.min.toString(),className:"w-full pl-8 pr-4 py-4 bg-white/60 border border-white/80 rounded-2xl text-[11px] font-bold outline-none focus:ring-4 focus:ring-accent/5 focus:border-accent/30 transition-all placeholder:text-muted-foreground/20"})]}),r.jsx("span",{className:"text-muted-foreground/20 font-light",children:"/"}),(0,r.jsxs)("div",{className:"relative flex-1",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground/40 text-[10px] font-bold",children:"$"}),r.jsx("input",{type:"number",value:e.maxPrice,onChange:e=>S({maxPrice:e.target.value}),placeholder:o.max.toString(),className:"w-full pl-8 pr-4 py-4 bg-white/60 border border-white/80 rounded-2xl text-[11px] font-bold outline-none focus:ring-4 focus:ring-accent/5 focus:border-accent/30 transition-all placeholder:text-muted-foreground/20"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-5",children:[r.jsx("label",{className:"text-[10px] font-bold text-muted-foreground/60 uppercase tracking-[0.2em]",children:"Disponibilidad"}),r.jsx("div",{className:"flex flex-col gap-3",children:[{value:"all",label:"Todos"},{value:"in_stock",label:"En stock"},{value:"out_of_stock",label:"Sin stock"}].map(t=>(0,r.jsxs)("label",{className:"flex items-center gap-4 cursor-pointer group",children:[r.jsx("div",{className:(0,x.cn)("w-6 h-6 rounded-lg border flex items-center justify-center transition-all duration-300",e.availability===t.value?"bg-accent border-accent text-white shadow-lg shadow-accent/20 scale-110":"bg-white/60 border-white/80 group-hover:border-accent/40"),children:e.availability===t.value&&r.jsx(p.Z,{size:14,strokeWidth:3})}),r.jsx("input",{type:"radio",name:"availability",value:t.value,checked:e.availability===t.value,onChange:()=>S({availability:t.value}),className:"sr-only"}),r.jsx("span",{className:"text-[11px] font-bold uppercase tracking-widest text-foreground/70 group-hover:text-foreground transition-colors",children:t.label})]},t.value))})]})]}),q>0&&(0,r.jsxs)("div",{className:"mt-10 pt-8 border-t border-black/[0.03] flex flex-wrap items-center gap-3",children:[r.jsx("span",{className:"text-[9px] font-bold text-muted-foreground/40 uppercase tracking-[0.25em] mr-2",children:"Configuraci\xf3n Actual:"}),"Todos"!==e.category&&r.jsx(g,{label:e.category,onRemove:()=>S({category:"Todos"})}),"Todas"!==e.brand&&r.jsx(g,{label:e.brand,onRemove:()=>S({brand:"Todas"})}),e.minPrice&&r.jsx(g,{label:`Desde $${e.minPrice}`,onRemove:()=>S({minPrice:""})}),e.maxPrice&&r.jsx(g,{label:`Hasta $${e.maxPrice}`,onRemove:()=>S({maxPrice:""})}),"all"!==e.availability&&r.jsx(g,{label:"in_stock"===e.availability?"En Stock":"Sin Stock",onRemove:()=>S({availability:"all"})}),r.jsx("button",{onClick:f,className:"ml-auto text-[10px] font-bold text-accent uppercase tracking-widest hover:text-primary transition-all underline underline-offset-4",children:"Resetear Curadur\xeda"})]})]})})})]})}function g({label:e,onRemove:t}){return(0,r.jsxs)("span",{className:"inline-flex items-center gap-3 px-5 py-2.5 bg-white/60 backdrop-blur-md text-foreground rounded-full text-[9px] font-bold uppercase tracking-[0.15em] border border-white/80 shadow-sm hover:border-accent/30 transition-all group scale-95 opacity-90 hover:scale-100 hover:opacity-100",children:[e,r.jsx("button",{onClick:t,className:"hover:text-rose-500 transition-colors p-0.5 ml-1",children:r.jsx(i.Z,{size:12,strokeWidth:3})})]})}var h=a(46226),f=a(90434),v=a(34565);let y=(0,a(25578).Z)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);var j=a(12714),w=a(24230),N=a(60763),k=a(14228),_=a(57671),P=a(62823),z=a(12316),C=a(24118),A=a(91664),S=a(57914),q=a(68408),M=a(85251);let T=(0,q.U)()((0,M.tJ)((e,t)=>({favorites:[],toggle:a=>{let{favorites:r}=t();r.includes(a)?e({favorites:r.filter(e=>e!==a)}):e({favorites:[...r,a]})},has:e=>t().favorites.includes(e),clear:()=>e({favorites:[]})}),{name:"eter-favorites"}));var D=a(85999);let Z=e=>Object.values(e||{}).reduce((e,t)=>e+Number(t||0),0),U=e=>Object.entries(e||{}).filter(([,e])=>Number(e||0)>0).sort(([e],[t])=>{let a=parseInt(e),r=parseInt(t);return isNaN(a)||isNaN(r)?e.localeCompare(t):a-r}),R=e=>{let t=U(e);return t?.[0]?.[0]||"Unique"},I=e=>({id:e.id,name:e.name,description:e.description||"",category:e.category||"General",basePrice:e.base_price,images:e.images||[],stockBySize:e.stock_by_size||{},totalStock:Z(e.stock_by_size||{}),status:e.is_active?"active":"inactive",createdAt:e.created_at?new Date(e.created_at):new Date}),F=({products:e})=>{let t=function(){P.O.current||(0,z.Ad)();let[e]=(0,s.useState)(P.n.current);return e}(),{addItem:a}=(0,S.x)(),{toggle:o,has:i}=T(),[l,n]=(0,s.useState)(null),[d,u]=(0,s.useState)(""),p=e=>{n(e),u(R(e.stock_by_size||{}))},m=(e,t,r)=>{r?.preventDefault(),r?.stopPropagation();let s=R(e.stock_by_size||{});a(I(e),t||s),D.A.success(`Agregado al carrito: ${e.name}`)},x=(e,t)=>{t?.preventDefault(),t?.stopPropagation(),o(e)},b=(0,s.useMemo)(()=>{if(!l)return[];let e=U(l.stock_by_size||{});return e.length>0?e:[["Unique",0]]},[l]),g=(0,s.useMemo)(()=>{if(!l)return{canAdd:!1,totalStock:0};let e=Z(l.stock_by_size||{}),t=Object.keys(l.stock_by_size||{}).length>0,a=Number(l.stock_by_size?.[d]||0);return{canAdd:l.is_active&&(!t||a>0),totalStock:e}},[l,d]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-5 sm:gap-7 lg:gap-8 pb-20",children:[e?.map((e,a)=>{let s=Z(e.stock_by_size||{}),o=!!e.is_active&&s>0,l=i(e.id);return r.jsx(c.E.div,{initial:!t&&{opacity:0,y:18},whileInView:t?void 0:{opacity:1,y:0},viewport:{once:!0},transition:t?{duration:0}:{duration:.5,delay:.03*a},onClick:()=>p(e),onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),p(e))},role:"button",tabIndex:0,"aria-label":`Vista rapida de ${e.name}`,className:"outline-none focus-visible:ring-2 focus-visible:ring-[#CA8A04]/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[#FAFAF9] rounded-[28px]",children:r.jsxs("div",{className:"group cursor-pointer flex flex-col h-full overflow-hidden rounded-[2.5rem] border border-white bg-white/40 backdrop-blur-2xl transition-all duration-500 hover:border-amber-500/30 hover:shadow-[0_40px_100px_rgba(0,0,0,0.1)] active:scale-[0.98] group",children:[r.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden bg-[#F5F4F1]",children:[e.images&&e.images[0]?r.jsx(h.default,{src:e.images[0],alt:e.name,fill:!0,sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw",placeholder:"blur",blurDataURL:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",className:"object-cover transition-transform duration-700 group-hover:scale-[1.03]"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-[#C4C4C4]",children:r.jsx(v.Z,{size:32})}),r.jsxs("div",{className:"absolute top-4 left-4 flex flex-col items-start gap-2",children:[r.jsx("span",{className:"bg-primary/90 backdrop-blur-md px-3 py-1.5 rounded-full text-[9px] font-bold uppercase tracking-[0.2em] text-white",children:e.category||"General"}),Number(e.base_price)>5e4&&r.jsx("span",{className:"bg-accent/90 backdrop-blur-md px-3 py-1.5 rounded-full text-[9px] font-bold uppercase tracking-[0.2em] text-white",children:"Top Choice"})]}),r.jsx("button",{type:"button",onClick:t=>x(e.id,t),"aria-pressed":l,"aria-label":l?"Quitar de favoritos":"Agregar a favoritos",title:l?"Quitar de favoritos":"Agregar a favoritos",className:`absolute top-3 right-3 flex h-9 w-9 items-center justify-center rounded-full border transition-all ${l?"border-accent bg-accent text-white":"border-white/10 bg-white/80 text-foreground hover:border-accent hover:text-accent"}`,children:r.jsx(y,{size:16,className:l?"fill-white":void 0})})]}),r.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-1",children:[r.jsxs("div",{className:"flex flex-col gap-1 mb-3",children:[r.jsx("p",{className:"text-[10px] font-bold text-accent uppercase tracking-widest",children:"Exclusive Edition"}),r.jsx("h3",{className:"font-heading text-lg sm:text-xl font-medium text-foreground line-clamp-2 leading-tight",children:e.name})]}),r.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[r.jsxs("span",{suppressHydrationWarning:!0,className:"text-lg font-black text-[#CA8A04]",children:["$",Number(e.base_price).toLocaleString("es-AR")]}),r.jsxs("span",{suppressHydrationWarning:!0,className:"text-[10px] text-muted-foreground uppercase tracking-wider line-through decoration-black/20",children:["$",Math.round(1.3*e.base_price).toLocaleString("es-AR")]})]}),r.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 leading-relaxed mb-6",children:e.description||"Edici\xf3n premium con materiales de alta calidad y dise\xf1o exclusivo para revendedores."}),r.jsxs("div",{className:"mt-auto flex flex-col gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:t=>m(e,void 0,t),disabled:!o,title:o?"Agregar al carrito":"Sin stock disponible",className:"flex-1 rounded-xl bg-primary px-6 py-3.5 text-[10px] font-bold uppercase tracking-[0.25em] text-white transition-all duration-500 hover:bg-black hover:shadow-xl hover:shadow-primary/20 disabled:cursor-not-allowed disabled:opacity-50 active:scale-95",children:o?"Comprar Ahora":"Agotado"}),r.jsx("button",{type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),p(e)},title:"Vista r\xe1pida",className:"flex items-center justify-center rounded-xl border border-black/5 bg-white/60 backdrop-blur-md px-4 py-3.5 text-foreground hover:border-accent hover:text-accent transition-all active:scale-95 shadow-sm",children:r.jsx(j.Z,{size:18})})]}),r.jsxs("div",{className:"flex items-center justify-between px-1",children:[r.jsxs("div",{className:"flex gap-1 flex-wrap max-w-[60%]",children:[U(e.stock_by_size||{}).slice(0,4).map(([e])=>r.jsx("span",{className:"text-[9px] font-bold text-slate-400 bg-slate-100 px-1.5 py-0.5 rounded",children:e},e)),U(e.stock_by_size||{}).length>4&&r.jsx("span",{className:"text-[9px] font-bold text-slate-300 px-1 py-0.5",children:"+"})]}),r.jsxs("div",{className:"flex items-center gap-1.5 group/btn cursor-pointer",onClick:()=>p(e),children:[r.jsx("span",{className:"text-[9px] font-bold uppercase tracking-[0.25em] text-muted-foreground group-hover/btn:text-accent transition-colors",children:"Detalles"}),r.jsx(w.Z,{size:12,className:"text-accent transition-transform duration-300 group-hover/btn:translate-x-1"})]})]})]})]})]})},e.id)}),(!e||0===e.length)&&r.jsx("div",{className:"col-span-full py-20 text-center",children:r.jsx("p",{className:"text-[#44403C] text-lg",children:"No se encontraron productos."})})]}),r.jsx(C.Vq,{open:!!l,onOpenChange:e=>!e&&n(null),children:r.jsx(C.cZ,{className:"max-w-5xl p-0 overflow-hidden bg-white/80 backdrop-blur-3xl border border-white/40 shadow-[0_40px_120px_rgba(0,0,0,0.15)] rounded-[2.5rem] gap-0",children:l&&(0,r.jsxs)("div",{className:"flex flex-col md:flex-row h-[90vh] md:h-auto md:max-h-[85vh]",children:[(0,r.jsxs)("div",{className:"w-full md:w-1/2 bg-[#F5F5F4] relative h-64 md:h-auto",children:[l.images&&l.images[0]?r.jsx(h.default,{src:l.images[0],alt:l.name,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, 50vw"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground/30",children:r.jsx(v.Z,{size:64})}),(0,r.jsxs)("div",{className:"absolute top-6 left-6 flex items-center gap-2",children:[r.jsx("span",{className:"bg-primary/90 backdrop-blur px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-[0.2em] text-white",children:l.category||"General"}),r.jsx("span",{className:"rounded-full bg-accent px-3 py-2 text-[10px] font-bold uppercase tracking-[0.2em] text-white",children:g.totalStock>0?"Stock Real":"Agotado"})]})]}),(0,r.jsxs)("div",{className:"w-full md:w-1/2 p-8 md:p-12 flex flex-col overflow-y-auto bg-white/40",children:[(0,r.jsxs)(C.fK,{className:"mb-8",children:[r.jsx(C.$N,{className:"font-heading text-3xl md:text-4xl font-medium text-foreground leading-tight mb-3",children:l.name}),(0,r.jsxs)("div",{className:"flex items-baseline gap-3",children:[(0,r.jsxs)("span",{className:"text-4xl font-medium text-foreground font-heading",children:["$",l.base_price.toLocaleString()]}),(0,r.jsxs)("span",{className:"text-sm font-medium text-muted-foreground line-through decoration-black/20",children:["$",Math.round(1.3*l.base_price).toLocaleString()]})]})]}),(0,r.jsxs)("div",{className:"space-y-8 flex-1",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h4",{className:"text-[11px] font-bold uppercase tracking-[0.3em] text-muted-foreground flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-px bg-accent"}),"Especificaciones"]}),r.jsx("p",{className:"text-foreground/70 leading-relaxed text-sm md:text-base font-body",children:l.description||"Nuestra curadur\xeda \xc9ter garantiza piezas de alta calidad, dise\xf1adas para el mercado premium de reventa en Argentina."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-black/[0.03] shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 text-primary mb-2 font-bold text-xs uppercase tracking-widest",children:[r.jsx(N.Z,{size:18,className:"text-accent"})," Garant\xeda"]}),r.jsx("p",{className:"text-[11px] text-muted-foreground leading-snug",children:"Autenticidad verificada \xc9ter Store."})]}),(0,r.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-black/[0.03] shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 text-primary mb-2 font-bold text-xs uppercase tracking-widest",children:[r.jsx(k.Z,{size:18,className:"text-accent"})," Env\xedo MDQ"]}),r.jsx("p",{className:"text-[11px] text-muted-foreground leading-snug",children:"Despacho inmediato a todo el pa\xeds."})]})]}),(0,r.jsxs)("div",{className:"space-y-4 pt-2",children:[(0,r.jsxs)("h4",{className:"text-[11px] font-bold uppercase tracking-[0.3em] text-muted-foreground flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-px bg-accent"}),"Talles Disponibles"]}),r.jsx("div",{className:"flex flex-wrap gap-2.5",children:b.map(([e,t])=>{let a=d===e,s=0>=Number(t);return r.jsx("button",{type:"button",onClick:()=>u(e),disabled:s,className:`w-12 h-12 rounded-xl border text-sm font-bold transition-all duration-300 ${a?"border-primary bg-primary text-white shadow-xl shadow-primary/20 scale-105":"border-black/5 bg-white text-foreground hover:border-accent hover:text-accent shadow-sm"} ${s?"opacity-30 cursor-not-allowed grayscale":"hover:scale-105 active:scale-95"}`,"aria-pressed":a,children:e},e)})})]})]}),(0,r.jsxs)("div",{className:"mt-12 pt-8 border-t border-black/5 flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)(A.z,{className:"flex-1 h-14 text-sm rounded-xl font-bold uppercase tracking-[0.2em] gap-3 bg-primary text-white shadow-2xl shadow-primary/20 hover:bg-black transition-all active:scale-95 disabled:opacity-50",onClick:()=>m(l,d),disabled:!g.canAdd,children:["A\xf1adir al Carrito ",r.jsx(_.Z,{size:18})]}),r.jsx("button",{type:"button",onClick:()=>x(l.id),className:`flex h-14 w-14 items-center justify-center rounded-xl border transition-all duration-500 active:scale-95 ${i(l.id)?"bg-accent border-accent text-white shadow-lg shadow-accent/20":"bg-white border-black/5 text-foreground hover:border-accent hover:text-accent shadow-sm"}`,"aria-label":"Favorito",children:r.jsx(y,{size:20,className:i(l.id)?"fill-white":void 0})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-[10px] font-bold uppercase tracking-[0.2em] text-muted-foreground/60",children:[r.jsx("span",{children:"Precio Mayorista"}),r.jsx(f.default,{href:"/register",className:"text-accent hover:text-primary transition-colors border-b border-accent/20",children:"Crear Cuenta de Revendedor"})]})]})]})]})})})]})},$={query:"",category:"Todos",brand:"Todas",availability:"all",minPrice:"",maxPrice:"",sort:"relevance"},E=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),O=e=>{let t=e.trim().split(/\s+/).filter(Boolean);if(0===t.length)return"Eter";let a=t[0];return/^\d/.test(a)&&t[1]&&(a=t[1]),a.replace(/[^a-zA-Z0-9&.-]/g,"")||"Eter"},G=e=>Object.values(e||{}).reduce((e,t)=>e+Number(t||0),0),V=e=>{let t=e.get("availability"),a=e.get("sort");return{query:e.get("q")||"",category:e.get("category")||"Todos",brand:e.get("brand")||"Todas",availability:"in_stock"===t||"out_of_stock"===t?t:"all",minPrice:e.get("min")||"",maxPrice:e.get("max")||"",sort:"price_asc"===a||"price_desc"===a||"newest"===a?a:"relevance"}};function L({products:e}){(0,o.useRouter)();let t=(0,o.useSearchParams)(),[a,n]=(0,s.useState)(()=>V(t)),[d,u]=(0,s.useState)(a.query),[p,m]=(0,s.useState)(16),[x,g]=(0,s.useTransition)(),h=(0,s.useRef)(null);(0,s.useRef)(a),(0,s.useRef)(t.toString());let f=(0,s.useMemo)(()=>["Todos",...Array.from(new Set(e.map(e=>e.category).filter(e=>!!e)))],[e]),v=(0,s.useMemo)(()=>["Todas",...Array.from(new Set(e.map(e=>O(e.name))))],[e]),y=(0,s.useMemo)(()=>{let t=e.map(e=>e.base_price).filter(e=>Number.isFinite(e));return 0===t.length?{min:0,max:0}:{min:Math.min(...t),max:Math.max(...t)}},[e]),j=(0,s.useMemo)(()=>{let t=e.map(e=>e.name).filter(Boolean),a=f.filter(e=>"Todos"!==e);return Array.from(new Set([...v.filter(e=>"Todas"!==e),...a,...t]))},[e,f,v]),w=(0,s.useMemo)(()=>{if(!a.query||a.query.length<2)return[];let e=E(a.query);return j.filter(t=>E(t).includes(e)).slice(0,6)},[a.query,j]),N=(0,s.useMemo)(()=>{let t=E(a.query),r=Number(a.minPrice),s=Number(a.maxPrice),o=Number.isFinite(r)&&""!==a.minPrice,i=Number.isFinite(s)&&""!==a.maxPrice,l=[...e.filter(e=>{let l=O(e.name),c=G(e.stock_by_size||{}),n=!!e.is_active&&c>0,d=!t||E(e.name).includes(t)||E(e.description||"").includes(t)||E(l).includes(t),u="Todos"===a.category||e.category===a.category,p="Todas"===a.brand||l===a.brand,m="all"===a.availability||("in_stock"===a.availability?n:!n),x=!o||e.base_price>=r,b=!i||e.base_price<=s;return d&&u&&p&&m&&x&&b})];return"price_asc"===a.sort?l.sort((e,t)=>e.base_price-t.base_price):"price_desc"===a.sort?l.sort((e,t)=>t.base_price-e.base_price):"newest"===a.sort&&l.sort((e,t)=>{let a=e.created_at?new Date(e.created_at).getTime():0;return(t.created_at?new Date(t.created_at).getTime():0)-a}),l},[e,a]),k=(0,s.useMemo)(()=>N.slice(0,p),[N,p]),_=p<N.length,P=(0,s.useCallback)(()=>{m(e=>Math.min(e+16,N.length))},[N.length]),z=()=>{n($)},C=(0,s.useMemo)(()=>{let e=[];if(a.query&&e.push({label:`Busqueda: ${a.query}`,onRemove:()=>n(e=>({...e,query:""}))}),"Todos"!==a.category&&e.push({label:`Categoria: ${a.category}`,onRemove:()=>n(e=>({...e,category:"Todos"}))}),"Todas"!==a.brand&&e.push({label:`Marca: ${a.brand}`,onRemove:()=>n(e=>({...e,brand:"Todas"}))}),"all"!==a.availability&&e.push({label:"in_stock"===a.availability?"En stock":"Sin stock",onRemove:()=>n(e=>({...e,availability:"all"}))}),a.minPrice||a.maxPrice){let t=`Precio: ${a.minPrice||y.min} - ${a.maxPrice||y.max}`;e.push({label:t,onRemove:()=>n(e=>({...e,minPrice:"",maxPrice:""}))})}if("relevance"!==a.sort){let t="price_asc"===a.sort?"Precio: menor a mayor":"price_desc"===a.sort?"Precio: mayor a menor":"Novedades";e.push({label:t,onRemove:()=>n(e=>({...e,sort:"relevance"}))})}return e},[a,y.min,y.max]);return r.jsx("div",{className:"relative min-h-screen bg-background font-body",children:(0,r.jsxs)("div",{className:"max-w-[1440px] mx-auto px-6 md:px-12 pb-32",children:[r.jsx("div",{className:"sticky top-24 z-30 py-4",children:r.jsx(b,{filters:a,categories:f,brands:v,priceRange:y,suggestions:w,onChange:n,onReset:z})}),(0,r.jsxs)("div",{className:"mt-8 flex flex-col gap-6",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 border-b border-black/5 pb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3","aria-live":"polite",children:[r.jsx("div",{className:"flex -space-x-2",children:[1,2,3].map(e=>r.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-slate-100 flex items-center justify-center text-[10px] font-bold text-slate-400",children:e},e))}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-black text-slate-900 leading-none",children:N.length}),r.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest leading-none",children:"Productos"})]}),x&&r.jsx("span",{className:"text-[10px] font-bold text-amber-600 uppercase tracking-widest mt-1",children:"Sincronizando..."})]})]}),r.jsx("div",{className:"flex items-center gap-4",children:C.length>0&&(0,r.jsxs)("button",{type:"button",onClick:z,className:"group flex items-center gap-2 px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-[0.2em] text-rose-500 hover:bg-rose-50 transition-all",children:[r.jsx(i.Z,{size:14,className:"group-hover:rotate-90 transition-transform"}),"Limpiar Filtros"]})})]}),C.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 animate-in fade-in slide-in-from-top-2 duration-500",children:C.map(e=>(0,r.jsxs)("button",{type:"button",onClick:e.onRemove,className:"inline-flex items-center gap-3 rounded-2xl border border-white/80 bg-white/40 backdrop-blur-md px-4 py-2 text-[10px] font-black uppercase tracking-[0.2em] text-slate-700 hover:border-amber-500/40 hover:text-amber-600 transition-all shadow-sm hover:shadow-md group",children:[e.label,r.jsx(i.Z,{size:14,className:"text-slate-400 group-hover:text-amber-600"})]},e.label))})]}),r.jsx("div",{className:"mt-12",children:N.length>0?r.jsx(F,{products:k}):(0,r.jsxs)(c.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"rounded-[3rem] border-2 border-dashed border-black/5 bg-white/40 backdrop-blur-md p-20 text-center flex flex-col items-center",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-100 flex items-center justify-center text-slate-300 mb-6",children:r.jsx(l.Z,{size:40})}),r.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"No encontramos resultados"}),r.jsx("p",{className:"mt-2 text-slate-500 font-medium max-w-sm mx-auto",children:"Prob\xe1 ajustando los filtros o buscando con otros t\xe9rminos para encontrar lo que necesit\xe1s."}),r.jsx("button",{onClick:z,className:"mt-8 px-8 py-3.5 rounded-2xl bg-slate-900 text-white font-black text-xs uppercase tracking-[0.25em] shadow-xl shadow-slate-900/10 hover:bg-black transition-all",children:"Ver todo el cat\xe1logo"})]})}),_&&(0,r.jsxs)("div",{className:"mt-20 flex flex-col items-center gap-6",ref:h,children:[(0,r.jsxs)("button",{type:"button",onClick:P,className:"relative group overflow-hidden rounded-full bg-slate-900 px-10 py-5 text-xs font-black uppercase tracking-[0.35em] text-white shadow-[0_24px_50px_rgba(0,0,0,0.15)] hover:shadow-[0_24px_60px_rgba(0,0,0,0.25)] transition-all active:scale-95",children:[r.jsx("span",{className:"relative z-10",children:"Cargar m\xe1s Piezas"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500 via-orange-500 to-rose-500 opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:"w-48 h-1 bg-slate-100 rounded-full overflow-hidden",children:r.jsx(c.E.div,{className:"h-full bg-amber-500",initial:{width:0},animate:{width:`${k.length/N.length*100}%`}})}),(0,r.jsxs)("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-400",children:["Visualizando ",k.length," de ",N.length]})]})]})]})})}},3115:(e,t,a)=>{"use strict";a.r(t),a.d(t,{bulkDeleteProducts:()=>u,bulkImportProducts:()=>n,bulkUpdateProducts:()=>d,createProduct:()=>m,deleteProduct:()=>b,getProducts:()=>p,updateProduct:()=>x});var r=a(24330);a(60166);var s=a(56751),o=a(57708),i=a(96543),l=a(40618);let c=i.Ryn({name:i.Z_8().min(1,"Nombre es obligatorio"),description:i.Z_8().optional(),category:i.Z_8().optional().default("General"),base_price:i.Rxh().min(0,"Precio debe ser positivo"),stock_by_size:i.IMB(i.Z_8(),i.Rxh().min(0)).optional().default({}),image_url:i.Z_8().url().optional()});async function n(e){let t=(0,s.e)(),{data:{user:a}}=await t.auth.getUser();if(!a)return{success:!1,error:"Unauthorized",successCount:0,errors:[]};let r={successCount:0,errors:[]},l=[];for(let t=0;t<e.length;t++){let a=e[t];try{let e=c.parse({name:a.name||a.Nombre,description:a.description||a.Descripcion,category:a.category||a.Categoria,base_price:Number(a.base_price||a.Precio||0),stock_by_size:"string"==typeof a.stock_by_size?JSON.parse(a.stock_by_size):a.stock_by_size||{},image_url:a.image_url||a.Imagen});l.push(e)}catch(e){e instanceof i.jmq?r.errors.push({row:t+1,error:e.issues.map(e=>e.message).join(", ")}):r.errors.push({row:t+1,error:"Invalid format"})}}if(0===l.length)return{...r,success:!1,message:"No valid products found to import."};let n=l.map(e=>({name:e.name,description:e.description,category:e.category,price:e.base_price,images:e.image_url?[e.image_url]:[],stock_by_size:e.stock_by_size,stock:Object.values(e.stock_by_size).reduce((e,t)=>Number(e)+Number(t),0),status:"activo"})),{error:d}=await t.from("productos").insert(n);return d?{success:!1,error:"Failed to insert products into database",successCount:0,errors:r.errors}:(r.successCount=l.length,(0,o.revalidatePath)("/"),(0,o.revalidatePath)("/dashboard/products"),{success:!0,...r})}async function d(e){let t=(0,s.e)(),{data:{user:a}}=await t.auth.getUser();if(!a)return{error:"Unauthorized"};let r=0,i=[];for(let a of e){let{id:e,data:s}=a,o={};s.name&&(o.name=s.name),void 0!==s.base_price&&(o.price=s.base_price),s.stock_by_size&&(o.stock_by_size=s.stock_by_size,o.stock=Object.values(s.stock_by_size).reduce((e,t)=>Number(e)+Number(t),0)),s.description&&(o.description=s.description),void 0!==s.is_active&&(o.status=s.is_active?"activo":"inactivo");let{error:l}=await t.from("productos").update(o).eq("id",e);l?i.push({id:e,error:l.message}):r++}return(0,o.revalidatePath)("/"),(0,o.revalidatePath)("/dashboard/products"),{success:!0,successCount:r,errors:i}}async function u(e){let t=(0,s.e)(),{data:{user:a}}=await t.auth.getUser();if(!a)return{error:"Unauthorized"};let{error:r}=await t.from("productos").delete().in("id",e);return r?{error:"Failed to delete products"}:((0,o.revalidatePath)("/"),(0,o.revalidatePath)("/dashboard/products"),{success:!0,count:e.length})}async function p(e,t,a="active"){let r=(0,s.e)().from("productos").select("id, name, description, category, price, images, stock_by_size, status, created_at").order("created_at",{ascending:!1});"active"===a&&(r=r.eq("status","activo")),"inactive"===a&&(r=r.eq("status","inactivo")),e&&(r=r.ilike("name",`%${e}%`)),t&&"Todos"!==t&&(r=r.eq("category",t));let{data:o,error:i}=await r;return i?(console.error("Fetch products error:",i),[]):o.map(e=>({id:e.id,name:e.name,description:e.description,category:e.category,base_price:e.price,images:e.images||[],stock_by_size:e.stock_by_size||{},is_active:"activo"===e.status,created_at:e.created_at}))}async function m(e){let t=(0,s.e)(),{data:{user:a}}=await t.auth.getUser();if(!a)return{error:"Unauthorized"};let r=e.get("name"),i=e.get("description"),l=e.get("category"),c=parseFloat(e.get("base_price")),n=e.get("stock_by_size"),d=n?JSON.parse(n):{},u=e.get("image_file"),p=e.get("image_url");if(u&&u.size>0){let e=u.name.split(".").pop(),a=`products/${Date.now()}.${e}`,{error:r}=await t.storage.from("products").upload(a,u);if(r)console.error("Storage upload error:",r);else{let{data:e}=t.storage.from("products").getPublicUrl(a);p=e.publicUrl}}else p||(p="https://placehold.co/600x600?text=No+Image");let m={name:r,description:i,category:l,price:c,images:[p],stock_by_size:d,stock:Object.values(d).reduce((e,t)=>Number(e)+Number(t),0),status:"activo"},{data:x,error:b}=await t.from("productos").insert(m).select().single();return b?(console.error("Create product error:",b),{error:`Error al crear producto: ${b.message}`}):((0,o.revalidatePath)("/"),(0,o.revalidatePath)("/dashboard/products"),{success:!0,product:{id:x.id,name:x.name,description:x.description,category:x.category,base_price:x.price,images:x.images,stock_by_size:x.stock_by_size,is_active:"activo"===x.status,created_at:x.created_at}})}async function x(e,t){let a=(0,s.e)(),{data:{user:r}}=await a.auth.getUser();if(!r)return{error:"Unauthorized"};let i=t.get("name"),l=t.get("description"),c=t.get("category"),n=parseFloat(t.get("base_price")),d=t.get("stock_by_size"),u=d?JSON.parse(d):{},p=t.get("image_url"),m=t.get("image_file");if(m&&m.size>0){let e=m.name.split(".").pop(),t=`products/${Date.now()}.${e}`,{error:r}=await a.storage.from("products").upload(t,m);if(!r){let{data:e}=a.storage.from("products").getPublicUrl(t);p=e.publicUrl}}let x={name:i,description:l,category:c,price:n,stock_by_size:u,stock:Object.values(u).reduce((e,t)=>Number(e)+Number(t),0),images:[p]},{error:b}=await a.from("productos").update(x).eq("id",e);if(b)return{error:"Failed to update product"};let{data:g}=await a.from("productos").select("*").eq("id",e).single();return(0,o.revalidatePath)("/"),(0,o.revalidatePath)("/dashboard/products"),{success:!0,product:{id:g.id,name:g.name,description:g.description,category:g.category,base_price:g.price,images:g.images,stock_by_size:g.stock_by_size,is_active:"activo"===g.status,created_at:g.created_at}}}async function b(e){let t=(0,s.e)(),{data:{user:a}}=await t.auth.getUser();if(!a)return{error:"Unauthorized"};let{error:r}=await t.from("productos").delete().eq("id",e);return r?{error:"Failed to delete product"}:((0,o.revalidatePath)("/"),(0,o.revalidatePath)("/dashboard/products"),{success:!0})}(0,l.h)([n,d,u,p,m,x,b]),(0,r.j)("fb12ccb96b2e451645061970795dfe5910cdc6f3",n),(0,r.j)("6eddd26a4302e1b6f8ed7c36231e178db18ebfa6",d),(0,r.j)("6853ccbc56f0d770fd65e278d296db834a4265cc",u),(0,r.j)("197801779373472057917955eb08dc056d65e73c",p),(0,r.j)("a5f078fbd7f40fbe6edec152b4ca638a63b71caa",m),(0,r.j)("1d1ecad8c7a07318f0eb63fd9b7ad167522cbe49",x),(0,r.j)("ecbce8da19ebef56e49982efb9e7efd14fd2f7c0",b)},85548:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n,dynamic:()=>c,metadata:()=>l});var r=a(19510),s=a(86345),o=a(3115);let i=(0,a(68570).createProxy)(String.raw`C:\Users\Tole\Desktop\Pegada Solo\eter-store\src\components\catalog\CatalogView.tsx#CatalogView`),l={title:"Zapatillas Premium en Mar del Plata | Cat\xe1logo \xc9ter Store",description:"El mejor cat\xe1logo de reventa de calzado premium en Argentina. Sneakers exclusivas, stock real y env\xedos a todo el pa\xeds desde Mar del Plata.",keywords:["zapatillas premium mar del plata","reventa calzado argentina","sneakers exclusivas argentina","dropshipping calzado premium"]},c="force-dynamic";async function n(){let e=await (0,o.getProducts)();return(0,r.jsxs)("div",{className:"min-h-screen bg-background font-body selection:bg-accent/20",children:[(0,r.jsxs)("div",{className:"pointer-events-none fixed inset-0 -z-10",children:[r.jsx("div",{className:"absolute -top-40 left-1/2 h-[520px] w-[520px] -translate-x-1/2 rounded-full bg-[radial-gradient(circle,rgba(202,138,4,0.15),transparent_60%)] opacity-80"}),r.jsx("div",{className:"absolute top-40 right-[-10%] h-[480px] w-[480px] rounded-full bg-[radial-gradient(circle,rgba(68,64,60,0.1),transparent_60%)] opacity-70"}),r.jsx("div",{className:"absolute bottom-[-15%] left-[-10%] h-[520px] w-[520px] rounded-full bg-[radial-gradient(circle,rgba(202,138,4,0.1),transparent_60%)] opacity-70"}),r.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_bottom,rgba(250,250,249,0.92),rgba(250,250,249,1))]"})]}),r.jsx(s.w,{}),r.jsx("main",{className:"min-h-screen pt-28",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 pb-24",children:r.jsx(i,{products:e})})}),r.jsx("footer",{className:"border-t border-black/10 bg-[#FAFAF9] py-12 px-6",children:r.jsx("div",{className:"max-w-6xl mx-auto text-center text-[#78716C] text-sm",children:"\xa9 2026 \xc9ter Store Inc. Cat\xe1logo para revendedores."})})]})}},56751:(e,t,a)=>{"use strict";a.d(t,{e:()=>o});var r=a(72728),s=a(71615);function o(){let e=(0,s.cookies)();return(0,r.createServerClient)("https://tolzrvsykzmvndvomllt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRvbHpydnN5a3ptdm5kdm9tbGx0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwODQ5MDAsImV4cCI6MjA4NTY2MDkwMH0.pYQlxzkeUO6xsIDwe77kKCtapcVn507pgmcXPjhQH-o",{cookies:{getAll:()=>e.getAll(),setAll(t){try{t.forEach(({name:t,value:a,options:r})=>e.set(t,a,r))}catch{}}}})}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[948,483,26,637,481,81,165,233,758,354,591,95],()=>a(952));module.exports=r})();